<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brand Kit - One Click Import</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: #333;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e1e5e9;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #6366f1;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .import-wizard {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .wizard-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 32px;
            text-align: center;
        }

        .wizard-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .wizard-header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .wizard-content {
            padding: 32px;
        }

        .import-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .import-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .import-card:hover {
            border-color: #6366f1;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
        }

        .import-card.selected {
            border-color: #6366f1;
            background: #f8faff;
        }

        .import-card .icon {
            width: 48px;
            height: 48px;
            background: #6366f1;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            margin-bottom: 16px;
        }

        .import-card h3 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .import-card p {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .import-card .features {
            list-style: none;
        }

        .import-card .features li {
            font-size: 13px;
            color: #059669;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 4px;
        }

        .import-card .features li::before {
            content: "✓";
            font-weight: bold;
        }

        .selected-indicator {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 24px;
            height: 24px;
            background: #6366f1;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
        }

        .import-card.selected .selected-indicator {
            display: flex;
        }

        .content-preview {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 24px;
            margin: 24px 0;
            display: none;
        }

        .content-preview.show {
            display: block;
        }

        .content-preview h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #374151;
        }

        .content-items {
            display: grid;
            gap: 12px;
        }

        .content-item {
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .content-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
        }

        .content-item .content-info {
            flex: 1;
        }

        .content-item .content-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .content-item .content-meta {
            font-size: 12px;
            color: #6b7280;
        }

        .brand-settings {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 24px 0;
            display: none;
        }

        .brand-settings.show {
            display: grid;
        }

        .setting-group {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
        }

        .setting-group h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .setting-group input, .setting-group select, .setting-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .setting-group textarea {
            height: 80px;
            resize: vertical;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            margin: 24px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            width: 33%;
            transition: width 0.3s ease;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #6366f1;
            color: white;
        }

        .btn-primary:hover {
            background: #5855eb;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .loading-state {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading-state.show {
            display: block;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-state {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .success-state.show {
            display: block;
        }

        .success-icon {
            width: 64px;
            height: 64px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            margin: 0 auto 20px;
        }

        .step-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 24px;
        }

        .step {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            background: #e5e7eb;
            color: #6b7280;
        }

        .step.active {
            background: #6366f1;
            color: white;
        }

        .step.completed {
            background: #10b981;
            color: white;
        }

        /* Method Selector Styles */
        .method-selector {
            display: flex;
            background: #f3f4f6;
            border-radius: 12px;
            padding: 4px;
            gap: 4px;
        }

        .method-tab {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: #6b7280;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .method-tab.active {
            background: white;
            color: #6366f1;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .tab-icon {
            font-size: 16px;
        }

        /* Template Library Styles */
        .template-library {
            max-width: 1000px;
            margin: 0 auto;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
        }

        .template-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            background: white;
        }

        .template-card:hover {
            border-color: #6366f1;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.15);
            transform: translateY(-2px);
        }

        .template-card.selected {
            border-color: #6366f1;
            background: #f8faff;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.2);
        }

        .template-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .template-icon {
            font-size: 32px;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 12px;
        }

        .template-badge {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .template-card h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #111827;
        }

        .template-card > p {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .template-preview {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
        }

        .preview-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .preview-item:last-child {
            margin-bottom: 0;
        }

        .preview-label {
            font-weight: 500;
            color: #374151;
        }

        .preview-value {
            color: #6b7280;
            text-align: right;
            max-width: 60%;
        }

        .template-stats {
            font-size: 12px;
            color: #059669;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .template-stats::before {
            content: "✓";
            font-weight: bold;
        }

        /* Template customization preview */
        .template-customization {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 24px 0;
            display: none;
        }

        .template-customization.show {
            display: block;
        }

        .template-customization h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .customization-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .customization-section {
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 16px;
        }

        .customization-section h5 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .voice-profile-item {
            background: #f3f4f6;
            border-radius: 4px;
            padding: 8px 12px;
            margin-bottom: 6px;
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .voice-profile-item:last-child {
            margin-bottom: 0;
        }

        .profile-name {
            font-weight: 500;
            color: #374151;
        }

        .profile-usage {
            font-size: 11px;
            color: #6b7280;
        }

        /* Playground Modal Styles */
        .playground-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .playground-modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .playground-container {
            width: 95%;
            max-width: 1400px;
            height: 90%;
            max-height: 800px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .playground-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .playground-title h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .playground-title p {
            font-size: 14px;
            opacity: 0.9;
            margin: 0;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .playground-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .playground-controls {
            width: 350px;
            background: #f9fafb;
            border-right: 1px solid #e5e7eb;
            padding: 24px;
            overflow-y: auto;
        }

        .control-section {
            margin-bottom: 24px;
        }

        .control-section h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .control-section h5 {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 8px;
            color: #6b7280;
        }

        .content-type-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .content-type-btn {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px 8px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 500;
            color: #6b7280;
            transition: all 0.2s ease;
        }

        .content-type-btn:hover {
            border-color: #6366f1;
        }

        .content-type-btn.active {
            border-color: #6366f1;
            background: #f8faff;
            color: #6366f1;
        }

        .type-icon {
            font-size: 20px;
        }

        .control-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        .input-textarea {
            width: 100%;
            height: 100px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            resize: vertical;
            font-family: inherit;
            line-height: 1.5;
        }

        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 12px;
            transition: transform 0.2s ease;
        }

        .generate-btn:hover {
            transform: translateY(-1px);
        }

        .generate-icon {
            font-size: 16px;
        }

        .style-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .style-chip {
            background: #e5e7eb;
            color: #6b7280;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .style-chip.active {
            background: #6366f1;
            color: white;
        }

        .playground-output {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .output-header {
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .output-header h4 {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin: 0;
        }

        .output-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            color: #374151;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: #e5e7eb;
        }

        .output-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            background: white;
        }

        .placeholder-content {
            text-align: center;
            padding: 60px 40px;
            color: #6b7280;
        }

        .placeholder-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .placeholder-content h5 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .placeholder-content p {
            font-size: 14px;
            line-height: 1.6;
            max-width: 400px;
            margin: 0 auto;
        }

        .generated-content {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            font-size: 14px;
            line-height: 1.6;
            color: #374151;
        }

        .compliance-score {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .score-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .score-header h5 {
            font-size: 14px;
            font-weight: 600;
            color: #065f46;
            margin: 0;
        }

        .score-value {
            font-size: 18px;
            font-weight: 700;
            color: #059669;
        }

        .score-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .score-item:last-child {
            margin-bottom: 0;
        }

        .score-label {
            font-size: 12px;
            color: #065f46;
            width: 80px;
            flex-shrink: 0;
        }

        .score-bar {
            flex: 1;
            height: 6px;
            background: #dcfce7;
            border-radius: 3px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }

        .score-percent {
            font-size: 11px;
            color: #059669;
            font-weight: 500;
            width: 30px;
            text-align: right;
        }

        .model-comparison {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-top: 16px;
            overflow: hidden;
        }

        .comparison-header {
            background: #f9fafb;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comparison-header h5 {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin: 0;
        }

        .close-comparison {
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 4px;
        }

        .comparison-grid {
            display: grid;
            gap: 1px;
            background: #e5e7eb;
        }

        .comparison-item {
            background: white;
            padding: 16px;
        }

        .model-name {
            font-size: 13px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 4px;
        }

        .model-score {
            font-size: 11px;
            color: #059669;
            margin-bottom: 8px;
        }

        .model-output {
            font-size: 13px;
            color: #6b7280;
            line-height: 1.5;
        }

        .generated-image {
            width: 100%;
            max-width: 400px;
            height: 300px;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            font-size: 14px;
            margin: 16px 0;
        }

        /* Multi-Modal Brand Controls Styles */
        .modal-tabs {
            display: flex;
            background: #f3f4f6;
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 32px;
            gap: 4px;
            overflow-x: auto;
        }

        .modal-tab {
            padding: 12px 16px;
            border: none;
            background: transparent;
            color: #6b7280;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .modal-tab.active {
            background: white;
            color: #6366f1;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .brand-tab-content {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Visual Identity Styles */
        .visual-controls {
            display: grid;
            gap: 32px;
        }

        .visual-section {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
        }

        .visual-section h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #374151;
        }

        .color-palette {
            display: grid;
            gap: 20px;
        }

        .color-section label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 8px;
        }

        .color-picker-group {
            display: flex;
            gap: 12px;
        }

        .color-picker {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .color-picker input[type="color"] {
            width: 60px;
            height: 60px;
            border: 3px solid white;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .color-label {
            font-size: 11px;
            font-family: monospace;
            color: #6b7280;
            font-weight: 500;
        }

        .typography-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .font-selection label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 6px;
        }

        .font-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
        }

        .typography-preview {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
        }

        .logo-upload-area {
            margin-bottom: 20px;
        }

        .upload-zone {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 32px;
            text-align: center;
            background: white;
            transition: all 0.2s ease;
        }

        .upload-zone:hover {
            border-color: #6366f1;
            background: #f8faff;
        }

        .upload-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .upload-zone p {
            margin: 4px 0;
            color: #374151;
        }

        .upload-hint {
            font-size: 12px;
            color: #6b7280;
        }

        .upload-btn {
            background: #6366f1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            margin-top: 8px;
        }

        .logo-guidelines h5 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .guideline-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .guideline-row label {
            font-size: 13px;
            color: #6b7280;
            width: 100px;
            flex-shrink: 0;
        }

        .guideline-input, .guideline-select {
            flex: 1;
            padding: 6px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 13px;
        }

        /* Media Controls Styles */
        .media-controls {
            display: grid;
            gap: 24px;
        }

        .media-section {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
        }

        .media-section h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #374151;
        }

        .media-section h5 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #374151;
        }

        .style-options {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .style-option {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
            min-width: 80px;
        }

        .style-option.active {
            border-color: #6366f1;
            background: #f8faff;
        }

        .style-preview {
            font-size: 20px;
        }

        .style-option span {
            font-size: 12px;
            color: #6b7280;
            text-align: center;
        }

        .treatment-options, .brand-elements, .content-types {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .treatment-options input, .brand-elements input, .content-types input {
            margin-right: 8px;
        }

        .composition-rules, .hashtag-input, .keyword-input, .value-props, .pain-points, .expertise-areas {
            width: 100%;
            height: 80px;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 13px;
            resize: vertical;
            font-family: inherit;
        }

        .aspect-chips {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .aspect-chip {
            background: #e5e7eb;
            color: #6b7280;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .aspect-chip.active {
            background: #6366f1;
            color: white;
        }

        .duration-settings {
            display: grid;
            gap: 8px;
        }

        .duration-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .duration-item span {
            font-size: 13px;
            color: #6b7280;
            width: 120px;
            flex-shrink: 0;
        }

        .duration-input {
            flex: 1;
            padding: 4px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
        }

        .asset-library {
            display: grid;
            gap: 16px;
        }

        .asset-category h5 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .source-list {
            display: flex;
            gap: 16px;
        }

        .source-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .source-item input {
            margin: 0;
        }

        .source-item label {
            font-size: 13px;
            color: #6b7280;
        }

        /* Channel Controls Styles */
        .channel-controls {
            max-width: 1200px;
            margin: 0 auto;
        }

        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
        }

        .channel-card {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.2s ease;
        }

        .channel-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .channel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .channel-icon {
            font-size: 20px;
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #e5e7eb;
        }

        .channel-header h4 {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin: 0;
        }

        .channel-settings {
            display: grid;
            gap: 16px;
        }

        .setting-item label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 6px;
        }

        .channel-select, .channel-input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 13px;
            background: white;
        }

        .platform-tones {
            display: grid;
            gap: 8px;
        }

        .platform-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .platform-item span {
            font-size: 12px;
            color: #6b7280;
            width: 60px;
            flex-shrink: 0;
        }

        .platform-select {
            flex: 1;
            padding: 4px 6px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
            background: white;
        }

        /* Applied Controls Chips */
        .applied-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .control-chip {
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border: 1px solid #bbf7d0;
            color: #065f46;
            padding: 6px 10px;
            border-radius: 16px;
            font-size: 11px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .control-icon {
            font-size: 12px;
        }

        /* Dashboard Styles */
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
        }

        .dashboard-title h1 {
            font-size: 32px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 4px;
        }

        .dashboard-title p {
            color: #6b7280;
            font-size: 16px;
            margin: 0;
        }

        .dashboard-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            gap: 16px;
        }

        .search-bar {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-input {
            width: 100%;
            padding: 12px 40px 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }

        .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 16px;
        }

        .filter-controls {
            display: flex;
            gap: 12px;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            background: white;
            color: #374151;
        }

        .brand-kit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 24px;
        }

        .brand-kit-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .brand-kit-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: #6366f1;
            transform: translateY(-2px);
        }

        .brand-kit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .brand-kit-icon {
            font-size: 32px;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .brand-kit-menu {
            color: #6b7280;
            font-size: 20px;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .brand-kit-menu:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .brand-kit-info h3 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 6px;
        }

        .brand-kit-info > p {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .brand-kit-stats {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid #f3f4f6;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            flex: 1;
        }

        .stat-icon {
            font-size: 16px;
        }

        .stat-value {
            font-size: 16px;
            font-weight: 700;
            color: #111827;
        }

        .stat-label {
            font-size: 11px;
            color: #6b7280;
            text-align: center;
        }

        .brand-kit-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .stack-badge {
            background: #f3f4f6;
            color: #6b7280;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .last-modified {
            font-size: 11px;
            color: #9ca3af;
        }

        .brand-kit-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn-small {
            flex: 1;
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            color: #374151;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            transition: all 0.2s ease;
        }

        .action-btn-small:hover {
            background: #f3f4f6;
            border-color: #d1d5db;
        }

        .action-btn-small.incomplete {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: #f59e0b;
            color: #92400e;
        }

        .action-btn-small.incomplete:hover {
            background: linear-gradient(135deg, #fde68a 0%, #fcd34d 100%);
        }

        .action-icon {
            font-size: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 80px 40px;
            color: #6b7280;
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 20px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .empty-state p {
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 24px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Wizard Close Button */
        .wizard-close {
            position: absolute;
            top: 20px;
            left: 20px;
        }

        .close-wizard-btn {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #6366f1;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
            backdrop-filter: blur(4px);
        }

        .close-wizard-btn:hover {
            background: rgba(255, 255, 255, 1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .import-wizard {
            position: relative;
        }

        /* Brand Kit Details Styles */
        .brand-kit-details-container, .brand-kit-settings-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        .details-header, .settings-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid #e5e7eb;
        }

        .back-btn {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            color: #374151;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: #e5e7eb;
        }

        .details-title, .settings-title {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .details-icon {
            font-size: 40px;
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .details-info h1, .settings-title h1 {
            font-size: 28px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 4px;
        }

        .details-info p, .settings-title p {
            color: #6b7280;
            font-size: 16px;
            margin: 0;
        }

        .details-actions {
            display: flex;
            gap: 12px;
        }

        .details-tabs {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 32px;
        }

        .details-tab {
            padding: 12px 24px;
            border: none;
            background: none;
            color: #6b7280;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .details-tab.active {
            color: #6366f1;
            border-bottom-color: #6366f1;
        }

        .details-tab:hover {
            color: #374151;
        }

        .details-tab-content {
            animation: fadeIn 0.3s ease;
        }

        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .overview-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
        }

        .overview-card h3 {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 16px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .metric-item {
            text-align: center;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: #6366f1;
            margin-bottom: 4px;
        }

        .metric-label {
            font-size: 12px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .activity-icon {
            font-size: 20px;
            width: 40px;
            height: 40px;
            background: #f3f4f6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 2px;
        }

        .activity-time {
            font-size: 12px;
            color: #6b7280;
        }

        .activity-score {
            font-size: 14px;
            font-weight: 600;
            color: #10b981;
        }

        .voice-profiles-summary {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .profile-summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .profile-summary-item:last-child {
            border-bottom: none;
        }

        .profile-summary-name {
            font-size: 14px;
            color: #374151;
        }

        .profile-summary-usage {
            font-size: 12px;
            color: #6b7280;
        }

        .stacks-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .stack-chip {
            background: #f3f4f6;
            color: #374151;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }

        .stack-chip-more {
            background: #e5e7eb;
            color: #6b7280;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
        }

        .incomplete-kit {
            border: 2px solid #fbbf24;
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
        }

        .incomplete-banner {
            position: absolute;
            top: 12px;
            right: 12px;
            background: #f59e0b;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .action-btn-small:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .placeholder-content {
            text-align: center;
            padding: 60px 20px;
            color: #6b7280;
        }

        .placeholder-content h3 {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .settings-content {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }

        .settings-tabs-container {
            padding: 32px;
        }

        .settings-actions {
            padding: 24px 32px;
            border-top: 1px solid #e5e7eb;
            background: #f9fafb;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Voice Profiles Tab Styles */
        .voice-profiles-content {
            max-width: 1000px;
        }

        .profiles-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .profiles-header h3 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin: 0;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 13px;
        }

        .profiles-grid {
            display: grid;
            gap: 20px;
        }

        .voice-profile-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.2s ease;
        }

        .voice-profile-card:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .profile-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .profile-card-title {
            flex: 1;
        }

        .profile-card-title h4 {
            font-size: 16px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 4px;
        }

        .profile-card-title p {
            color: #6b7280;
            font-size: 14px;
            margin: 0;
        }

        .profile-actions {
            display: flex;
            gap: 8px;
        }

        .profile-btn {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            color: #374151;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .profile-btn:hover {
            background: #e5e7eb;
        }

        .profile-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .profile-detail-section h5 {
            font-size: 12px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .profile-detail-content {
            font-size: 13px;
            color: #374151;
            line-height: 1.5;
        }

        .usage-stats {
            display: flex;
            gap: 16px;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #f3f4f6;
        }

        .usage-stat {
            text-align: center;
        }

        .usage-stat-value {
            font-size: 14px;
            font-weight: 600;
            color: #6366f1;
        }

        .usage-stat-label {
            font-size: 10px;
            color: #6b7280;
            text-transform: uppercase;
        }

        /* Content Tab Styles */
        .content-management {
            max-width: 1200px;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .content-header h3 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin: 0;
        }

        .content-filters {
            display: flex;
            gap: 12px;
        }

        .content-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .content-stat-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }

        .content-stat-item .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: #6366f1;
            display: block;
            margin-bottom: 4px;
        }

        .content-stat-item .stat-label {
            font-size: 11px;
            color: #6b7280;
            text-transform: uppercase;
        }

        .content-list {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .content-item {
            border-bottom: 1px solid #f3f4f6;
            padding: 16px;
            display: grid;
            grid-template-columns: auto 1fr auto auto;
            gap: 12px;
            align-items: center;
            transition: background 0.2s ease;
        }

        .content-item:hover {
            background: #f9fafb;
        }

        .content-item:last-child {
            border-bottom: none;
        }

        .content-type-icon {
            width: 32px;
            height: 32px;
            background: #f3f4f6;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .content-item-info h4 {
            font-size: 14px;
            font-weight: 500;
            color: #111827;
            margin-bottom: 4px;
        }

        .content-item-meta {
            font-size: 12px;
            color: #6b7280;
        }

        .content-compliance {
            text-align: right;
        }

        .compliance-badge {
            background: #dcfce7;
            color: #166534;
            padding: 2px 6px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .compliance-badge.medium {
            background: #fef3c7;
            color: #92400e;
        }

        .compliance-badge.low {
            background: #fecaca;
            color: #991b1b;
        }

        .content-date {
            font-size: 11px;
            color: #9ca3af;
        }

        /* Analytics Tab Styles */
        .analytics-dashboard {
            max-width: 1200px;
        }

        .analytics-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .analytics-header h3 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin: 0;
        }

        .time-range-selector {
            display: flex;
            background: #f3f4f6;
            border-radius: 6px;
            padding: 2px;
        }

        .time-btn {
            background: transparent;
            border: none;
            color: #6b7280;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .time-btn.active {
            background: white;
            color: #6366f1;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .analytics-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
        }

        .analytics-card h4 {
            font-size: 14px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 16px;
        }

        .trend-chart {
            height: 120px;
            position: relative;
            background: linear-gradient(to top, #f9fafb 0%, transparent 100%);
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .data-point {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #6366f1;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .data-point:hover {
            transform: scale(1.5);
            background: #4f46e5;
        }

        .chart-labels {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            color: #9ca3af;
        }

        .chart-summary {
            margin-top: 8px;
            font-size: 12px;
            color: #6b7280;
        }

        .trend-up {
            color: #10b981;
            font-weight: 500;
        }

        .profile-breakdown {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .profile-bar {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 12px;
            align-items: center;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .profile-name {
            font-size: 13px;
            color: #374151;
            font-weight: 500;
        }

        .profile-count {
            font-size: 11px;
            color: #6b7280;
        }

        .progress-bar-analytics {
            width: 80px;
            height: 6px;
            background: #f3f4f6;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill-analytics {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            transition: width 0.3s ease;
        }

        .profile-percentage {
            font-size: 12px;
            color: #6366f1;
            font-weight: 500;
            width: 30px;
            text-align: right;
        }

        .performance-metrics {
            display: grid;
            gap: 16px;
        }

        .perf-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #f3f4f6;
        }

        .perf-metric:last-child {
            border-bottom: none;
        }

        .perf-label {
            font-size: 12px;
            color: #6b7280;
        }

        .perf-value {
            font-size: 14px;
            font-weight: 600;
            color: #111827;
        }

        .perf-change {
            font-size: 11px;
            font-weight: 500;
        }

        .perf-change.positive {
            color: #10b981;
        }

        .perf-change.negative {
            color: #ef4444;
        }

        .keywords-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .keyword-tag {
            background: #f3f4f6;
            color: #374151;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .keyword-tag.large {
            font-size: 13px;
            background: #ddd6fe;
            color: #5b21b6;
        }

        .keyword-tag.medium {
            font-size: 12px;
            background: #e0e7ff;
            color: #3730a3;
        }

        .compliance-breakdown {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .compliance-item {
            display: grid;
            grid-template-columns: 100px 1fr auto;
            gap: 12px;
            align-items: center;
        }

        .content-type {
            font-size: 12px;
            color: #374151;
            font-weight: 500;
        }

        .compliance-bar {
            height: 6px;
            background: #f3f4f6;
            border-radius: 3px;
            overflow: hidden;
        }

        .compliance-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }

        .compliance-score {
            font-size: 12px;
            color: #10b981;
            font-weight: 500;
            width: 30px;
            text-align: right;
        }

        .timeline-chart {
            display: flex;
            align-items: end;
            gap: 8px;
            height: 100px;
            margin-bottom: 8px;
        }

        .timeline-bar {
            flex: 1;
            background: linear-gradient(to top, #6366f1, #8b5cf6);
            border-radius: 2px;
            min-height: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .timeline-bar:hover {
            transform: scaleY(1.1);
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            font-size: 10px;
            color: #9ca3af;
        }

        /* Stack Selector Styles */
        .stack-selector {
            margin-top: 8px;
        }

        .stack-search {
            position: relative;
            margin-bottom: 12px;
        }

        .stack-search-input {
            width: 100%;
            padding: 8px 32px 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 13px;
            background: white;
        }

        .search-icon-small {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 14px;
        }

        .stack-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 12px;
            background: white;
        }

        .stack-option {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 8px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            transition: all 0.2s ease;
            position: relative;
        }

        .stack-option:hover {
            background: #f3f4f6;
            border-color: #6366f1;
        }

        .stack-option.selected {
            background: #ddd6fe;
            border-color: #6366f1;
            color: #5b21b6;
        }

        .stack-option.selected::after {
            content: "✓";
            position: absolute;
            right: 4px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            color: #6366f1;
        }

        .stack-icon {
            font-size: 14px;
        }

        .stack-name {
            font-weight: 500;
        }

        .selected-stacks {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #f3f4f6;
        }

        .selected-stacks h5 {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .selected-stacks-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .selected-stack-chip {
            background: #6366f1;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .remove-stack {
            cursor: pointer;
            font-size: 10px;
            opacity: 0.8;
        }

        .remove-stack:hover {
            opacity: 1;
        }

        .logo:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo" onclick="goHome()" style="cursor: pointer;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
            </svg>
            Brand Kit
        </div>
    </div>

    <div class="main-container">
        <!-- Brand Kit Dashboard (Default View) -->
        <div id="brandKitDashboard" class="dashboard-container">
            <div class="dashboard-header">
                <div class="dashboard-title">
                    <h1>Brand Kits</h1>
                    <p>Manage your brand voice profiles and guidelines</p>
                </div>
                <button class="btn btn-primary" onclick="showSetupWizard()">
                    <span style="margin-right: 8px;">+</span>
                    New Brand Kit
                </button>
            </div>

            <div class="dashboard-content">
                <!-- Search and Filters -->
                <div class="dashboard-controls">
                    <div class="search-bar">
                        <input type="text" placeholder="Search Brand Kits..." class="search-input">
                        <span class="search-icon">🔍</span>
                    </div>
                    <div class="filter-controls">
                        <select class="filter-select">
                            <option>All Stacks</option>
                            <option>Marketing Stack</option>
                            <option>E-commerce Stack</option>
                            <option>Corporate Website</option>
                            <option>Blog & Content</option>
                        </select>
                        <select class="filter-select">
                            <option>Recently Modified</option>
                            <option>Alphabetical</option>
                            <option>Date Created</option>
                        </select>
                    </div>
                </div>

                <!-- Brand Kit Grid -->
                <div class="brand-kit-grid">
                    <div class="brand-kit-card" onclick="openBrandKitDetails('tech-ceos')">
                        <div class="brand-kit-header">
                            <div class="brand-kit-icon">💻</div>
                            <div class="brand-kit-menu">⋯</div>
                        </div>
                        <div class="brand-kit-info">
                            <h3>Tech CEOs</h3>
                            <p>Professional, innovative tone for tech leadership content</p>
                            <div class="brand-kit-stats">
                                <div class="stat-item">
                                    <span class="stat-icon">🎤</span>
                                    <span class="stat-value">3</span>
                                    <span class="stat-label">Voice Profiles</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📊</span>
                                    <span class="stat-value">94%</span>
                                    <span class="stat-label">Compliance</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📝</span>
                                    <span class="stat-value">128</span>
                                    <span class="stat-label">Content</span>
                                </div>
                            </div>
                            <div class="brand-kit-meta">
                                <span class="stack-badge">Marketing Stack +2 more</span>
                                <span class="last-modified">Aug 28, 2025</span>
                            </div>
                        </div>
                        <div class="brand-kit-actions">
                            <button class="action-btn-small" onclick="event.stopPropagation(); openPlaygroundFor('tech-ceos')">
                                <span class="action-icon">🎮</span>
                                Playground
                            </button>
                            <button class="action-btn-small" onclick="event.stopPropagation(); openBrandKitSettings('tech-ceos')">
                                <span class="action-icon">⚙️</span>
                                Settings
                            </button>
                        </div>
                    </div>

                    <div class="brand-kit-card" onclick="openBrandKitDetails('avengers')">
                        <div class="brand-kit-header">
                            <div class="brand-kit-icon">🦸</div>
                            <div class="brand-kit-menu">⋯</div>
                        </div>
                        <div class="brand-kit-info">
                            <h3>Avengers</h3>
                            <p>Heroic, inspiring messaging for entertainment brand</p>
                            <div class="brand-kit-stats">
                                <div class="stat-item">
                                    <span class="stat-icon">🎤</span>
                                    <span class="stat-value">5</span>
                                    <span class="stat-label">Voice Profiles</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📊</span>
                                    <span class="stat-value">89%</span>
                                    <span class="stat-label">Compliance</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📝</span>
                                    <span class="stat-value">67</span>
                                    <span class="stat-label">Content</span>
                                </div>
                            </div>
                            <div class="brand-kit-meta">
                                <span class="stack-badge">Entertainment +4 more</span>
                                <span class="last-modified">Aug 28, 2025</span>
                            </div>
                        </div>
                        <div class="brand-kit-actions">
                            <button class="action-btn-small" onclick="event.stopPropagation(); openPlaygroundFor('avengers')">
                                <span class="action-icon">🎮</span>
                                Playground
                            </button>
                            <button class="action-btn-small" onclick="event.stopPropagation(); openBrandKitSettings('avengers')">
                                <span class="action-icon">⚙️</span>
                                Settings
                            </button>
                        </div>
                    </div>

                    <div class="brand-kit-card incomplete-kit" onclick="openBrandKitDetails('test')">
                        <div class="brand-kit-header">
                            <div class="brand-kit-icon">🧪</div>
                            <div class="brand-kit-menu">⋯</div>
                        </div>
                        <div class="brand-kit-info">
                            <h3>Test</h3>
                            <p>Experimental brand kit for testing new features</p>
                            <div class="brand-kit-stats">
                                <div class="stat-item">
                                    <span class="stat-icon">🎤</span>
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Voice Profiles</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📊</span>
                                    <span class="stat-value">--</span>
                                    <span class="stat-label">Compliance</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-icon">📝</span>
                                    <span class="stat-value">0</span>
                                    <span class="stat-label">Content</span>
                                </div>
                            </div>
                            <div class="brand-kit-meta">
                                <span class="stack-badge">Corporate Website</span>
                                <span class="last-modified">Aug 28, 2025</span>
                            </div>
                            <div class="incomplete-banner">⚠️ Setup Incomplete</div>
                        </div>
                        <div class="brand-kit-actions">
                            <button class="action-btn-small incomplete" onclick="event.stopPropagation(); completeSetup('test')">
                                <span class="action-icon">⚠️</span>
                                Complete Setup
                            </button>
                            <button class="action-btn-small" onclick="event.stopPropagation(); openBrandKitSettings('test')" disabled>
                                <span class="action-icon">⚙️</span>
                                Settings
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Empty State (Hidden by default) -->
                <div class="empty-state" style="display: none;">
                    <div class="empty-icon">🎨</div>
                    <h3>No Brand Kits Yet</h3>
                    <p>Create your first Brand Kit to start maintaining consistent brand voice across all your content.</p>
                    <button class="btn btn-primary" onclick="showSetupWizard()">Create Your First Brand Kit</button>
                </div>
            </div>
        </div>

        <!-- Brand Kit Details View -->
        <div id="brandKitDetails" class="brand-kit-details-container" style="display: none;">
            <div class="details-header">
                <button class="back-btn" onclick="showDashboard()">
                    ← Back to Brand Kits
                </button>
                <div class="details-title">
                    <div class="details-icon">💻</div>
                    <div class="details-info">
                        <h1 id="detailsBrandName">Tech CEOs</h1>
                        <p id="detailsBrandDescription">Professional, innovative tone for tech leadership content</p>
                    </div>
                </div>
                <div class="details-actions">
                    <button class="btn btn-secondary" onclick="openPlaygroundFromDetails()">
                        <span style="margin-right: 8px;">🎮</span>
                        Playground
                    </button>
                    <button class="btn btn-primary" onclick="openBrandKitSettingsFromDetails()">
                        <span style="margin-right: 8px;">⚙️</span>
                        Settings
                    </button>
                </div>
            </div>

            <div class="details-content">
                <div class="details-tabs">
                    <button class="details-tab active" data-tab="overview" onclick="switchDetailsTab('overview')">Overview</button>
                    <button class="details-tab" data-tab="voice-profiles" onclick="switchDetailsTab('voice-profiles')">Voice Profiles</button>
                    <button class="details-tab" data-tab="content" onclick="switchDetailsTab('content')">Content</button>
                    <button class="details-tab" data-tab="analytics" onclick="switchDetailsTab('analytics')">Analytics</button>
                </div>

                <!-- Overview Tab -->
                <div id="overviewTab" class="details-tab-content">
                    <div class="overview-grid">
                        <div class="overview-card">
                            <h3>Brand Metrics</h3>
                            <div class="metrics-grid">
                                <div class="metric-item">
                                    <div class="metric-value">94%</div>
                                    <div class="metric-label">Avg. Compliance</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">128</div>
                                    <div class="metric-label">Content Pieces</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">3</div>
                                    <div class="metric-label">Voice Profiles</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">11</div>
                                    <div class="metric-label">Connected Stacks</div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card">
                            <h3>Recent Activity</h3>
                            <div class="activity-list">
                                <div class="activity-item">
                                    <span class="activity-icon">📝</span>
                                    <div class="activity-info">
                                        <div class="activity-title">Blog post generated</div>
                                        <div class="activity-time">2 hours ago</div>
                                    </div>
                                    <div class="activity-score">96%</div>
                                </div>
                                <div class="activity-item">
                                    <span class="activity-icon">📧</span>
                                    <div class="activity-info">
                                        <div class="activity-title">Email campaign created</div>
                                        <div class="activity-time">1 day ago</div>
                                    </div>
                                    <div class="activity-score">89%</div>
                                </div>
                                <div class="activity-item">
                                    <span class="activity-icon">📱</span>
                                    <div class="activity-info">
                                        <div class="activity-title">Social posts generated</div>
                                        <div class="activity-time">2 days ago</div>
                                    </div>
                                    <div class="activity-score">92%</div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card">
                            <h3>Voice Profiles</h3>
                            <div class="voice-profiles-summary">
                                <div class="profile-summary-item">
                                    <div class="profile-summary-name">Jensen Huang</div>
                                    <div class="profile-summary-usage">23 pieces</div>
                                </div>
                                <div class="profile-summary-item">
                                    <div class="profile-summary-name">Satya Nadella</div>
                                    <div class="profile-summary-usage">31 pieces</div>
                                </div>
                                <div class="profile-summary-item">
                                    <div class="profile-summary-name">Elon Musk</div>
                                    <div class="profile-summary-usage">34 pieces</div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card">
                            <h3>Connected Stacks</h3>
                            <div class="stacks-list">
                                <span class="stack-chip">Marketing Stack</span>
                                <span class="stack-chip">E-commerce Stack</span>
                                <span class="stack-chip">Corporate Website</span>
                                <span class="stack-chip-more">+8 more</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other tabs content -->
                <div id="voiceProfilesTab" class="details-tab-content" style="display: none;">
                    <div class="voice-profiles-content">
                        <div class="profiles-header">
                            <h3>Voice Profiles</h3>
                            <button class="btn btn-secondary btn-small" onclick="addVoiceProfile()">
                                <span style="margin-right: 6px;">+</span>
                                Add Profile
                            </button>
                        </div>

                        <div class="profiles-grid" id="profilesGrid">
                            <!-- Voice profiles will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div id="contentTab" class="details-tab-content" style="display: none;">
                    <div class="content-management">
                        <div class="content-header">
                            <h3>Content Library</h3>
                            <div class="content-filters">
                                <select class="filter-select">
                                    <option>All Content Types</option>
                                    <option>Blog Posts</option>
                                    <option>Social Media</option>
                                    <option>Email</option>
                                    <option>Product Copy</option>
                                </select>
                                <select class="filter-select">
                                    <option>All Voice Profiles</option>
                                    <option>Executive Communication</option>
                                    <option>Product Marketing</option>
                                    <option>Technical Documentation</option>
                                </select>
                                <select class="filter-select">
                                    <option>Last 30 Days</option>
                                    <option>Last Week</option>
                                    <option>Last 3 Months</option>
                                    <option>All Time</option>
                                </select>
                            </div>
                        </div>

                        <div class="content-stats">
                            <div class="content-stat-item">
                                <span class="stat-value">128</span>
                                <span class="stat-label">Total Pieces</span>
                            </div>
                            <div class="content-stat-item">
                                <span class="stat-value">94%</span>
                                <span class="stat-label">Avg Compliance</span>
                            </div>
                            <div class="content-stat-item">
                                <span class="stat-value">47</span>
                                <span class="stat-label">This Month</span>
                            </div>
                            <div class="content-stat-item">
                                <span class="stat-value">23.4k</span>
                                <span class="stat-label">Words Generated</span>
                            </div>
                        </div>

                        <div class="content-list" id="contentList">
                            <!-- Content items will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div id="analyticsTab" class="details-tab-content" style="display: none;">
                    <!-- Voice Profile Add/Edit Modal -->
        <div id="voiceProfileModal" class="voice-profile-modal" style="display: none;">
            <div class="modal-overlay" onclick="closeVoiceProfileModal()"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h2 id="modalTitle">Add Voice Profile</h2>
                    <button class="modal-close-btn" onclick="closeVoiceProfileModal()">✕</button>
                </div>
                
                <div class="modal-content">
                    <div class="form-section">
                        <div class="form-group">
                            <label for="profileNameInput">Profile Name *</label>
                            <input type="text" id="profileNameInput" placeholder="e.g., Steve Jobs" class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label for="profileDescInput">Description *</label>
                            <textarea id="profileDescInput" placeholder="Describe the personality, communication style, and characteristics of this voice profile..." class="form-textarea"></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="profileToneInput">Tone & Style *</label>
                                <input type="text" id="profileToneInput" placeholder="e.g., Bold, Visionary, Direct" class="form-input">
                            </div>
                            
                            <div class="form-group">
                                <label for="profileAudienceInput">Target Audience *</label>
                                <input type="text" id="profileAudienceInput" placeholder="e.g., Developers, Business Leaders" class="form-input">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="profileKeywordsInput">Key Terms & Keywords</label>
                            <input type="text" id="profileKeywordsInput" placeholder="innovation, leadership, technology, transformation..." class="form-input">
                        </div>
                        
                        <div class="form-group">
                            <label>Voice Sample (Optional)</label>
                            <div class="voice-sample-area">
                                <textarea placeholder="Write a sample paragraph in this voice to help train the AI..." class="form-textarea"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeVoiceProfileModal()">Cancel</button>
                    <button class="btn btn-primary" id="modalAction" onclick="saveVoiceProfile()">Create Profile</button>
                </div>
            </div>
        </div>

        <div class="analytics-dashboard">
                        <div class="analytics-header">
                            <h3>Brand Analytics</h3>
                            <div class="time-range-selector">
                                <button class="time-btn active" data-range="7d">7D</button>
                                <button class="time-btn" data-range="30d">30D</button>
                                <button class="time-btn" data-range="90d">90D</button>
                                <button class="time-btn" data-range="1y">1Y</button>
                            </div>
                        </div>

                        <div class="analytics-grid">
                            <div class="analytics-card">
                                <h4>Brand Compliance Trend</h4>
                                <div class="chart-container">
                                    <div class="trend-chart">
                                        <div class="chart-line">
                                            <div class="data-point" style="left: 10%; bottom: 85%;" data-value="92%"></div>
                                            <div class="data-point" style="left: 25%; bottom: 78%;" data-value="89%"></div>
                                            <div class="data-point" style="left: 40%; bottom: 82%;" data-value="91%"></div>
                                            <div class="data-point" style="left: 55%; bottom: 88%;" data-value="94%"></div>
                                            <div class="data-point" style="left: 70%; bottom: 91%;" data-value="96%"></div>
                                            <div class="data-point" style="left: 85%; bottom: 89%;" data-value="94%"></div>
                                        </div>
                                    </div>
                                    <div class="chart-labels">
                                        <span>Week 1</span>
                                        <span>Week 2</span>
                                        <span>Week 3</span>
                                        <span>Week 4</span>
                                    </div>
                                </div>
                                <div class="chart-summary">
                                    <span class="trend-up">↗ +2.1%</span>
                                    <span>vs last month</span>
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h4>Content by Voice Profile</h4>
                                <div class="profile-breakdown">
                                    <div class="profile-bar">
                                        <div class="profile-info">
                                            <span class="profile-name">Executive Communication</span>
                                            <span class="profile-count">45 pieces</span>
                                        </div>
                                        <div class="progress-bar-analytics">
                                            <div class="progress-fill-analytics" style="width: 65%;"></div>
                                        </div>
                                        <span class="profile-percentage">35%</span>
                                    </div>
                                    <div class="profile-bar">
                                        <div class="profile-info">
                                            <span class="profile-name">Product Marketing</span>
                                            <span class="profile-count">67 pieces</span>
                                        </div>
                                        <div class="progress-bar-analytics">
                                            <div class="progress-fill-analytics" style="width: 85%;"></div>
                                        </div>
                                        <span class="profile-percentage">52%</span>
                                    </div>
                                    <div class="profile-bar">
                                        <div class="profile-info">
                                            <span class="profile-name">Technical Documentation</span>
                                            <span class="profile-count">16 pieces</span>
                                        </div>
                                        <div class="progress-bar-analytics">
                                            <div class="progress-fill-analytics" style="width: 25%;"></div>
                                        </div>
                                        <span class="profile-percentage">13%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h4>Content Performance</h4>
                                <div class="performance-metrics">
                                    <div class="perf-metric">
                                        <div class="perf-label">Avg. Words per Piece</div>
                                        <div class="perf-value">342</div>
                                        <div class="perf-change positive">+12%</div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">Generation Time</div>
                                        <div class="perf-value">2.3s</div>
                                        <div class="perf-change positive">-15%</div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">User Satisfaction</div>
                                        <div class="perf-value">4.8/5</div>
                                        <div class="perf-change positive">+0.2</div>
                                    </div>
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h4>Brand Keywords Usage</h4>
                                <div class="keywords-cloud">
                                    <span class="keyword-tag large">innovation</span>
                                    <span class="keyword-tag medium">leadership</span>
                                    <span class="keyword-tag small">transformation</span>
                                    <span class="keyword-tag large">enterprise</span>
                                    <span class="keyword-tag medium">solutions</span>
                                    <span class="keyword-tag small">cutting-edge</span>
                                    <span class="keyword-tag medium">technology</span>
                                    <span class="keyword-tag small">scalable</span>
                                    <span class="keyword-tag medium">efficient</span>
                                    <span class="keyword-tag small">automated</span>
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h4>Compliance by Content Type</h4>
                                <div class="compliance-breakdown">
                                    <div class="compliance-item">
                                        <span class="content-type">Blog Posts</span>
                                        <div class="compliance-bar">
                                            <div class="compliance-fill" style="width: 96%;"></div>
                                        </div>
                                        <span class="compliance-score">96%</span>
                                    </div>
                                    <div class="compliance-item">
                                        <span class="content-type">Social Media</span>
                                        <div class="compliance-bar">
                                            <div class="compliance-fill" style="width: 94%;"></div>
                                        </div>
                                        <span class="compliance-score">94%</span>
                                    </div>
                                    <div class="compliance-item">
                                        <span class="content-type">Email</span>
                                        <div class="compliance-bar">
                                            <div class="compliance-fill" style="width: 91%;"></div>
                                        </div>
                                        <span class="compliance-score">91%</span>
                                    </div>
                                    <div class="compliance-item">
                                        <span class="content-type">Product Copy</span>
                                        <div class="compliance-bar">
                                            <div class="compliance-fill" style="width: 98%;"></div>
                                        </div>
                                        <span class="compliance-score">98%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="analytics-card">
                                <h4>Content Generation Timeline</h4>
                                <div class="timeline-chart">
                                    <div class="timeline-bar" style="height: 60%;" data-day="Mon" data-count="12"></div>
                                    <div class="timeline-bar" style="height: 40%;" data-day="Tue" data-count="8"></div>
                                    <div class="timeline-bar" style="height: 85%;" data-day="Wed" data-count="17"></div>
                                    <div class="timeline-bar" style="height: 75%;" data-day="Thu" data-count="15"></div>
                                    <div class="timeline-bar" style="height: 30%;" data-day="Fri" data-count="6"></div>
                                    <div class="timeline-bar" style="height: 20%;" data-day="Sat" data-count="4"></div>
                                    <div class="timeline-bar" style="height: 15%;" data-day="Sun" data-count="3"></div>
                                </div>
                                <div class="timeline-labels">
                                    <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Brand Kit Settings View -->
        <div id="brandKitSettings" class="brand-kit-settings-container" style="display: none;">
            <div class="settings-header">
                <button class="back-btn" onclick="backFromSettings()">
                    ← Back
                </button>
                <div class="settings-title">
                    <h1 id="settingsBrandName">Tech CEOs Settings</h1>
                    <p>Configure your brand voice, visual identity, and guidelines</p>
                </div>
            </div>

            <div class="settings-content">
                <!-- This will contain the same multi-modal brand controls from Step 2 -->
                <div class="modal-tabs">
                    <button class="modal-tab active" data-tab="voice" onclick="switchBrandTab('voice')">
                        <span class="tab-icon">🎤</span>
                        Voice & Tone
                    </button>
                    <button class="modal-tab" data-tab="visual" onclick="switchBrandTab('visual')">
                        <span class="tab-icon">🎨</span>
                        Visual Identity
                    </button>
                    <button class="modal-tab" data-tab="media" onclick="switchBrandTab('media')">
                        <span class="tab-icon">📸</span>
                        Media Assets
                    </button>
                    <button class="modal-tab" data-tab="channels" onclick="switchBrandTab('channels')">
                        <span class="tab-icon">📡</span>
                        Channel Rules
                    </button>
                </div>

                <!-- Brand settings tabs content (same as Step 2) -->
                <div class="settings-tabs-container">
                    <!-- Voice & Tone Tab -->
                    <div id="voiceTab" class="brand-tab-content">
                        <div class="brand-settings show">
                            <div class="setting-group">
                                <h4>Brand Kit Name</h4>
                                <input type="text" placeholder="e.g., Tech Company Brand" id="settingsKitName" value="Tech CEOs">
                                
                                <h4>Industry</h4>
                                <select id="settingsIndustry">
                                    <option selected>Technology</option>
                                    <option>Healthcare</option>
                                    <option>Retail</option>
                                    <option>Finance</option>
                                </select>

                                <h4>Primary Audience</h4>
                                <select id="settingsAudience">
                                    <option selected>Business Leaders</option>
                                    <option>Developers</option>
                                    <option>General Consumers</option>
                                    <option>Enterprise</option>
                                </select>
                            </div>

                            <div class="setting-group">
                                <h4>Brand Personality</h4>
                                <input type="text" id="settingsPersonality" value="Professional, Innovative, Confident">
                                
                                <h4>Tone Preferences</h4>
                                <select id="settingsTone">
                                    <option selected>Professional & Forward-thinking</option>
                                    <option>More formal</option>
                                    <option>More casual</option>
                                    <option>More technical</option>
                                </select>

                                <h4>Key Terms</h4>
                                <textarea id="settingsKeyTerms">innovation, leadership, transformation, enterprise solutions, cutting-edge technology</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Other tabs (Visual, Media, Channels) would go here - same as before -->
                </div>

                <div class="settings-actions">
                    <button class="btn btn-secondary" onclick="backFromSettings()">Cancel</button>
                    <button class="btn btn-primary" onclick="saveBrandKitSettings()">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Setup Wizard (Hidden by default) -->
        <div class="import-wizard" id="setupWizard" style="display: none;">
            <div class="wizard-header">
                <h1>Set Up Your Brand Kit</h1>
                <p>Import your existing content to automatically create voice profiles and brand guidelines</p>
            </div>

            <div class="wizard-content">
                <div class="step-indicator">
                    <div class="step active">1</div>
                    <div style="width: 40px; height: 2px; background: #e5e7eb;"></div>
                    <div class="step">2</div>
                    <div style="width: 40px; height: 2px; background: #e5e7eb;"></div>
                    <div class="step">3</div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <!-- Step 1: Import Source -->
                <div id="step1" class="step-content">
                    <h2 style="text-align: center; margin-bottom: 24px; color: #374151;">Choose Your Setup Method</h2>
                    <p style="text-align: center; color: #6b7280; margin-bottom: 32px;">Start with a template or import your existing content</p>
                    
                    <!-- Method Selector -->
                    <div style="display: flex; justify-content: center; margin-bottom: 32px;">
                        <div class="method-selector">
                            <button class="method-tab active" data-method="templates" onclick="switchMethod('templates')">
                                <span class="tab-icon">⚡</span>
                                Start with Templates
                            </button>
                            <button class="method-tab" data-method="import" onclick="switchMethod('import')">
                                <span class="tab-icon">📥</span>
                                Import Existing Content
                            </button>
                        </div>
                    </div>

                    <!-- Template Library -->
                    <div id="templateLibrary" class="template-library">
                        <h3 style="text-align: center; margin-bottom: 24px; color: #374151;">Industry Templates</h3>
                        <div class="template-grid">
                            <div class="template-card" data-template="saas">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">💻</div>
                                    <div class="template-badge">Most Popular</div>
                                </div>
                                <h4>SaaS & Technology</h4>
                                <p>Professional, innovative tone for tech companies and software products</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Professional, Forward-thinking</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Confident, Expert</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">innovation, scalable, efficient</span>
                                    </div>
                                </div>
                                <div class="template-stats">3 Voice Profiles • 50+ Guidelines</div>
                            </div>

                            <div class="template-card" data-template="retail">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">🛍️</div>
                                </div>
                                <h4>E-commerce & Retail</h4>
                                <p>Customer-focused, persuasive messaging for retail and e-commerce brands</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Friendly, Persuasive</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Approachable, Trustworthy</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">quality, value, customer-first</span>
                                    </div>
                                </div>
                                <div class="template-stats">4 Voice Profiles • 60+ Guidelines</div>
                            </div>

                            <div class="template-card" data-template="healthcare">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">🏥</div>
                                </div>
                                <h4>Healthcare & Wellness</h4>
                                <p>Empathetic, trustworthy communication for healthcare and wellness brands</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Empathetic, Authoritative</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Caring, Professional</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">wellness, care, expertise</span>
                                    </div>
                                </div>
                                <div class="template-stats">3 Voice Profiles • 45+ Guidelines</div>
                            </div>

                            <div class="template-card" data-template="finance">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">💰</div>
                                </div>
                                <h4>Financial Services</h4>
                                <p>Trustworthy, compliant messaging for financial and investment companies</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Trustworthy, Analytical</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Reliable, Informed</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">security, growth, expertise</span>
                                    </div>
                                </div>
                                <div class="template-stats">2 Voice Profiles • 40+ Guidelines</div>
                            </div>

                            <div class="template-card" data-template="education">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">🎓</div>
                                </div>
                                <h4>Education & Learning</h4>
                                <p>Inspiring, accessible language for educational institutions and platforms</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Inspiring, Supportive</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Encouraging, Knowledgeable</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">growth, potential, learning</span>
                                    </div>
                                </div>
                                <div class="template-stats">3 Voice Profiles • 35+ Guidelines</div>
                            </div>

                            <div class="template-card" data-template="nonprofit">
                                <div class="selected-indicator">✓</div>
                                <div class="template-header">
                                    <div class="template-icon">❤️</div>
                                </div>
                                <h4>Non-Profit & Social</h4>
                                <p>Mission-driven, authentic messaging for non-profits and social causes</p>
                                <div class="template-preview">
                                    <div class="preview-item">
                                        <span class="preview-label">Tone:</span>
                                        <span class="preview-value">Authentic, Passionate</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Voice:</span>
                                        <span class="preview-value">Heartfelt, Urgent</span>
                                    </div>
                                    <div class="preview-item">
                                        <span class="preview-label">Keywords:</span>
                                        <span class="preview-value">impact, community, change</span>
                                    </div>
                                </div>
                                <div class="template-stats">3 Voice Profiles • 30+ Guidelines</div>
                            </div>
                        </div>
                    </div>

                    <!-- Import Options (Hidden by default) -->
                    <div id="importOptions" class="import-options" style="display: none;">
                        <div class="import-card" data-source="cms">
                            <div class="selected-indicator">✓</div>
                            <div class="icon">📄</div>
                            <h3>CMS Content</h3>
                            <p>Import from your existing blog posts, product descriptions, and marketing copy</p>
                            <ul class="features">
                                <li>Analyzes tone and style patterns</li>
                                <li>Extracts brand terminology</li>
                                <li>Creates voice profiles automatically</li>
                            </ul>
                        </div>

                        <div class="import-card" data-source="website">
                            <div class="selected-indicator">✓</div>
                            <div class="icon">🌐</div>
                            <h3>Website Crawl</h3>
                            <p>Scan your website pages to extract brand voice and messaging patterns</p>
                            <ul class="features">
                                <li>Crawls public pages</li>
                                <li>Identifies consistent messaging</li>
                                <li>Maps brand voice variations</li>
                            </ul>
                        </div>

                        <div class="import-card" data-source="documents">
                            <div class="selected-indicator">✓</div>
                            <div class="icon">📋</div>
                            <h3>Brand Documents</h3>
                            <p>Upload existing brand guidelines, style guides, and marketing materials</p>
                            <ul class="features">
                                <li>Supports PDF, DOCX, TXT</li>
                                <li>Extracts style rules</li>
                                <li>Preserves existing guidelines</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content-preview" id="contentPreview">
                        <h4>Found Content (12 items)</h4>
                        <div class="content-items">
                            <div class="content-item">
                                <input type="checkbox" checked>
                                <div class="content-info">
                                    <div class="content-title">Product Launch Blog Post</div>
                                    <div class="content-meta">2,340 words • Marketing tone</div>
                                </div>
                            </div>
                            <div class="content-item">
                                <input type="checkbox" checked>
                                <div class="content-info">
                                    <div class="content-title">About Us Page</div>
                                    <div class="content-meta">850 words • Company voice</div>
                                </div>
                            </div>
                            <div class="content-item">
                                <input type="checkbox" checked>
                                <div class="content-info">
                                    <div class="content-title">Product Descriptions</div>
                                    <div class="content-meta">15 items • Sales tone</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Template Customization Preview -->
                    <div class="template-customization" id="templateCustomization">
                        <h4>
                            <span>📋</span>
                            SaaS & Technology Template Preview
                        </h4>
                        <div class="customization-grid">
                            <div class="customization-section">
                                <h5>Voice Profiles Included</h5>
                                <div class="voice-profile-item">
                                    <span class="profile-name">Executive Communication</span>
                                    <span class="profile-usage">Leadership content</span>
                                </div>
                                <div class="voice-profile-item">
                                    <span class="profile-name">Product Marketing</span>
                                    <span class="profile-usage">Features & benefits</span>
                                </div>
                                <div class="voice-profile-item">
                                    <span class="profile-name">Technical Documentation</span>
                                    <span class="profile-usage">Help & tutorials</span>
                                </div>
                            </div>
                            <div class="customization-section">
                                <h5>Brand Guidelines</h5>
                                <div style="font-size: 13px; color: #6b7280; line-height: 1.5;">
                                    • Always use active voice for product features<br>
                                    • Avoid technical jargon in marketing content<br>
                                    • Focus on business outcomes and ROI<br>
                                    • Use confident, forward-looking language<br>
                                    • Include social proof when possible
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Brand Settings -->
                <div id="step2" class="step-content" style="display: none;">
                    <h2 style="text-align: center; margin-bottom: 32px; color: #374151;">Configure Brand Settings</h2>
                    
                    <!-- Multi-Modal Tabs -->
                    <div class="modal-tabs">
                        <button class="modal-tab active" data-tab="setup-voice" onclick="switchSetupBrandTab('setup-voice')">
                            <span class="tab-icon">🎤</span>
                            Voice & Tone
                        </button>
                        <button class="modal-tab" data-tab="setup-visual" onclick="switchSetupBrandTab('setup-visual')">
                            <span class="tab-icon">🎨</span>
                            Visual Identity
                        </button>
                        <button class="modal-tab" data-tab="setup-media" onclick="switchSetupBrandTab('setup-media')">
                            <span class="tab-icon">📸</span>
                            Media Assets
                        </button>
                        <button class="modal-tab" data-tab="setup-channels" onclick="switchSetupBrandTab('setup-channels')">
                            <span class="tab-icon">📡</span>
                            Channel Rules
                        </button>
                    </div>

                    <!-- Voice & Tone Tab -->
                    <div id="setupVoiceTab" class="brand-tab-content">
                        <div class="brand-settings show">
                            <div class="setting-group">
                                <h4>Brand Kit Name</h4>
                                <input type="text" placeholder="e.g., Tech Company Brand" value="Tech CEOs">
                                
                                <h4>Industry</h4>
                                <select>
                                    <option>Technology</option>
                                    <option>Healthcare</option>
                                    <option>Retail</option>
                                    <option>Finance</option>
                                </select>

                                <h4>Primary Audience</h4>
                                <select>
                                    <option>Business Leaders</option>
                                    <option>Developers</option>
                                    <option>General Consumers</option>
                                    <option>Enterprise</option>
                                </select>

                                <h4>Connected Stacks</h4>
                                <div class="stack-selector">
                                    <div class="stack-search">
                                        <input type="text" placeholder="Search stacks..." class="stack-search-input" onkeyup="filterStacks(this.value)">
                                        <span class="search-icon-small">🔍</span>
                                    </div>
                                    <div class="stack-grid" id="stackGrid">
                                        <!-- Stacks will be populated by JavaScript -->
                                    </div>
                                    <div class="selected-stacks" id="selectedStacks">
                                        <!-- Selected stacks will appear here -->
                                    </div>
                                </div>
                            </div>

                            <div class="setting-group">
                                <h4>Brand Personality (Auto-detected)</h4>
                                <input type="text" value="Professional, Innovative, Confident" readonly style="background: #f3f4f6;">
                                
                                <h4>Tone Preferences</h4>
                                <select>
                                    <option>Maintain detected tone</option>
                                    <option>More formal</option>
                                    <option>More casual</option>
                                    <option>More technical</option>
                                </select>

                                <h4>Key Terms (Auto-extracted)</h4>
                                <textarea readonly style="background: #f3f4f6;">innovation, leadership, transformation, enterprise solutions, cutting-edge technology</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Identity Tab -->
                    <div id="setupVisualTab" class="brand-tab-content" style="display: none;">
                        <div class="visual-controls">
                            <div class="visual-section">
                                <h4>Brand Colors</h4>
                                <div class="color-palette">
                                    <div class="color-section">
                                        <label>Primary Colors</label>
                                        <div class="color-picker-group">
                                            <div class="color-picker">
                                                <input type="color" value="#6366f1" id="setup-primary1">
                                                <span class="color-label">#6366f1</span>
                                            </div>
                                            <div class="color-picker">
                                                <input type="color" value="#8b5cf6" id="setup-primary2">
                                                <span class="color-label">#8b5cf6</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="color-section">
                                        <label>Secondary Colors</label>
                                        <div class="color-picker-group">
                                            <div class="color-picker">
                                                <input type="color" value="#10b981" id="setup-secondary1">
                                                <span class="color-label">#10b981</span>
                                            </div>
                                            <div class="color-picker">
                                                <input type="color" value="#f59e0b" id="setup-secondary2">
                                                <span class="color-label">#f59e0b</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="visual-section">
                                <h4>Typography</h4>
                                <div class="typography-controls">
                                    <div class="font-selection">
                                        <label>Primary Font</label>
                                        <select class="font-select">
                                            <option value="inter">Inter (Sans-serif)</option>
                                            <option value="roboto">Roboto (Sans-serif)</option>
                                            <option value="source-sans">Source Sans Pro</option>
                                            <option value="poppins">Poppins</option>
                                        </select>
                                    </div>
                                    <div class="font-selection">
                                        <label>Heading Font</label>
                                        <select class="font-select">
                                            <option value="inter">Inter (Sans-serif)</option>
                                            <option value="playfair">Playfair Display</option>
                                            <option value="montserrat">Montserrat</option>
                                            <option value="source-serif">Source Serif Pro</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="typography-preview">
                                    <h3 style="font-family: Inter, sans-serif; margin-bottom: 8px;">Heading Example</h3>
                                    <p style="font-family: Inter, sans-serif; margin: 0; color: #6b7280;">Body text example with consistent brand typography that maintains readability and brand personality.</p>
                                </div>
                            </div>

                            <div class="visual-section">
                                <h4>Logo & Brand Mark</h4>
                                <div class="logo-upload-area">
                                    <div class="upload-zone">
                                        <div class="upload-icon">📎</div>
                                        <p><strong>Upload Logo Files</strong></p>
                                        <p class="upload-hint">PNG, SVG, or JPG • Max 5MB each</p>
                                        <button class="upload-btn">Choose Files</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Media Assets Tab -->
                    <div id="setupMediaTab" class="brand-tab-content" style="display: none;">
                        <div class="media-controls">
                            <div class="media-section">
                                <h4>Image Guidelines</h4>
                                <div class="media-rules">
                                    <div class="rule-group">
                                        <label>Photography Style</label>
                                        <div class="style-options">
                                            <div class="style-option active">
                                                <div class="style-preview">📷</div>
                                                <span>Professional</span>
                                            </div>
                                            <div class="style-option">
                                                <div class="style-preview">🎨</div>
                                                <span>Creative</span>
                                            </div>
                                            <div class="style-option">
                                                <div class="style-preview">📊</div>
                                                <span>Technical</span>
                                            </div>
                                            <div class="style-option">
                                                <div class="style-preview">👥</div>
                                                <span>People-focused</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="rule-group">
                                        <label>Color Treatment</label>
                                        <div class="treatment-options">
                                            <input type="checkbox" id="setup-colorful" checked>
                                            <label for="setup-colorful">Full color preferred</label><br>
                                            <input type="checkbox" id="setup-minimal">
                                            <label for="setup-minimal">Minimal color palette</label><br>
                                            <input type="checkbox" id="setup-branded">
                                            <label for="setup-branded">Apply brand color overlay</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="media-section">
                                <h4>Video Guidelines</h4>
                                <div class="video-specs">
                                    <div class="spec-row">
                                        <label>Aspect Ratios</label>
                                        <div class="aspect-chips">
                                            <span class="aspect-chip active">16:9</span>
                                            <span class="aspect-chip">9:16</span>
                                            <span class="aspect-chip">1:1</span>
                                            <span class="aspect-chip">4:5</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Channel Rules Tab -->
                    <div id="setupChannelsTab" class="brand-tab-content" style="display: none;">
                        <div class="channel-controls">
                            <div class="channel-grid">
                                <div class="channel-card">
                                    <div class="channel-header">
                                        <span class="channel-icon">📧</span>
                                        <h4>Email Marketing</h4>
                                    </div>
                                    <div class="channel-settings">
                                        <div class="setting-item">
                                            <label>Tone</label>
                                            <select class="channel-select">
                                                <option>Professional & Helpful</option>
                                                <option>Casual & Friendly</option>
                                                <option>Formal & Authoritative</option>
                                            </select>
                                        </div>
                                        <div class="setting-item">
                                            <label>Subject Line Style</label>
                                            <select class="channel-select">
                                                <option>Direct & Clear</option>
                                                <option>Curiosity-driven</option>
                                                <option>Value-focused</option>
                                                <option>Personalized</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="channel-card">
                                    <div class="channel-header">
                                        <span class="channel-icon">📱</span>
                                        <h4>Social Media</h4>
                                    </div>
                                    <div class="channel-settings">
                                        <div class="setting-item">
                                            <label>Platform Tone</label>
                                            <div class="platform-tones">
                                                <div class="platform-item">
                                                    <span>LinkedIn:</span>
                                                    <select class="platform-select">
                                                        <option>Professional</option>
                                                        <option>Thought Leadership</option>
                                                        <option>Industry Expert</option>
                                                    </select>
                                                </div>
                                                <div class="platform-item">
                                                    <span>Twitter:</span>
                                                    <select class="platform-select">
                                                        <option>Conversational</option>
                                                        <option>News-focused</option>
                                                        <option>Community-driven</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Loading -->
                <div id="step3" class="step-content" style="display: none;">
                    <div class="loading-state show">
                        <div class="spinner"></div>
                        <h3 style="margin-bottom: 16px;">Creating Your Brand Kit</h3>
                        <p style="color: #6b7280;">Analyzing content and generating voice profiles...</p>
                        <div style="margin-top: 20px;">
                            <div id="loadingProgress" style="font-size: 14px; color: #059669;">✓ Analyzed 12 content pieces</div>
                        </div>
                    </div>

                    <div class="success-state">
                        <div class="success-icon">✓</div>
                        <h3 style="margin-bottom: 16px;">Brand Kit Created Successfully!</h3>
                        <p style="color: #6b7280; margin-bottom: 24px;">Generated 3 voice profiles and extracted brand guidelines from your content</p>
                        <div style="display: flex; gap: 12px; justify-content: center;">
                            <div class="btn btn-primary" onclick="completeBrandKitCreation()">Try Brand Kit Playground</div>
                            <div class="btn btn-secondary" onclick="showDashboard()">Back to Dashboard</div>
                        </div>
                    </div>

                    <!-- Close Wizard Button -->
                    <div class="wizard-close">
                        <button class="close-wizard-btn" onclick="showDashboard()" title="Back to Dashboard">
                            ← Back to Dashboard
                        </button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" id="backBtn" onclick="previousStep()" style="display: none;">Back</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">Scan Content</button>
                </div>
            </div>
        </div>

        <!-- Brand Kit Playground Modal -->
        <div id="playgroundModal" class="playground-modal">
            <div class="playground-container">
                <div class="playground-header">
                    <div class="playground-title">
                        <h2>🎮 Brand Kit Playground</h2>
                        <p>Test your brand voice across different content types and AI models</p>
                    </div>
                    <button class="close-btn" onclick="closePlayground()">✕</button>
                </div>

                <div class="playground-content">
                    <!-- Left Panel: Controls -->
                    <div class="playground-controls">
                        <div class="control-section">
                            <h4>Content Type</h4>
                            <div class="content-type-selector">
                                <button class="content-type-btn active" data-type="text" onclick="selectContentType('text')">
                                    <span class="type-icon">📝</span>
                                    Text
                                </button>
                                <button class="content-type-btn" data-type="image" onclick="selectContentType('image')">
                                    <span class="type-icon">🖼️</span>
                                    Image
                                </button>
                                <button class="content-type-btn" data-type="social" onclick="selectContentType('social')">
                                    <span class="type-icon">📱</span>
                                    Social
                                </button>
                                <button class="content-type-btn" data-type="email" onclick="selectContentType('email')">
                                    <span class="type-icon">📧</span>
                                    Email
                                </button>
                            </div>
                        </div>

                        <div class="control-section">
                            <h4>Voice Profile</h4>
                            <select id="voiceProfile" class="control-select">
                                <option value="executive">Executive Communication</option>
                                <option value="marketing">Product Marketing</option>
                                <option value="technical">Technical Documentation</option>
                            </select>
                        </div>

                        <div class="control-section">
                            <h4>AI Model</h4>
                            <select id="aiModel" class="control-select">
                                <option value="claude">Claude Sonnet 4</option>
                                <option value="gpt4">GPT-4 Turbo</option>
                                <option value="gemini">Gemini Pro</option>
                            </select>
                        </div>

                        <div class="control-section">
                            <h4>Content Template</h4>
                            <select id="contentTemplate" class="control-select" onchange="loadTemplate()">
                                <option value="">Select a template...</option>
                                <option value="blog-post">Blog Post Introduction</option>
                                <option value="product-description">Product Description</option>
                                <option value="press-release">Press Release</option>
                                <option value="social-post">Social Media Post</option>
                                <option value="email-newsletter">Email Newsletter</option>
                            </select>
                        </div>

                        <div class="control-section" id="textControls">
                            <h4>Your Input</h4>
                            <textarea id="userInput" placeholder="Enter your content idea or brief description here..." class="input-textarea"></textarea>
                            <button class="generate-btn" onclick="generateContent()">
                                <span class="generate-icon">✨</span>
                                Generate Content
                            </button>
                        </div>

                        <div class="control-section" id="imageControls" style="display: none;">
                            <h4>Image Description</h4>
                            <textarea id="imagePrompt" placeholder="Describe the image you want to create..." class="input-textarea"></textarea>
                            <div class="image-style-options">
                                <h5>Style</h5>
                                <div class="style-chips">
                                    <span class="style-chip active" data-style="professional">Professional</span>
                                    <span class="style-chip" data-style="modern">Modern</span>
                                    <span class="style-chip" data-style="minimalist">Minimalist</span>
                                    <span class="style-chip" data-style="creative">Creative</span>
                                </div>
                            </div>
                            <button class="generate-btn" onclick="generateImage()">
                                <span class="generate-icon">🎨</span>
                                Generate Image
                            </button>
                        </div>
                    </div>

                    <!-- Right Panel: Output -->
                    <div class="playground-output">
                        <div class="output-header">
                            <h4>Generated Content</h4>
                            <div class="output-actions">
                                <button class="action-btn" onclick="copyContent()">📋 Copy</button>
                                <button class="action-btn" onclick="regenerateContent()">🔄 Regenerate</button>
                                <button class="action-btn" onclick="compareModels()">⚖️ Compare Models</button>
                            </div>
                        </div>

                        <div class="output-content" id="outputContent">
                            <div class="placeholder-content">
                                <div class="placeholder-icon">🎯</div>
                                <h5>Ready to Create On-Brand Content</h5>
                                <p>Choose a content type and enter your input to see Brand Kit in action. Your content will automatically follow your brand voice and guidelines.</p>
                            </div>
                        </div>

                        <!-- Brand Compliance Score -->
                        <div class="compliance-score" id="complianceScore" style="display: none;">
                            <div class="score-header">
                                <h5>Brand Compliance Score</h5>
                                <div class="score-value" id="scoreValue">94%</div>
                            </div>
                            <div class="score-details">
                                <div class="score-item">
                                    <span class="score-label">Tone Match</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 96%;"></div>
                                    </div>
                                    <span class="score-percent">96%</span>
                                </div>
                                <div class="score-item">
                                    <span class="score-label">Voice Consistency</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 92%;"></div>
                                    </div>
                                    <span class="score-percent">92%</span>
                                </div>
                                <div class="score-item">
                                    <span class="score-label">Brand Keywords</span>
                                    <div class="score-bar">
                                        <div class="score-fill" style="width: 94%;"></div>
                                    </div>
                                    <span class="score-percent">94%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Model Comparison -->
                        <div class="model-comparison" id="modelComparison" style="display: none;">
                            <div class="comparison-header">
                                <h5>AI Model Comparison</h5>
                                <button class="close-comparison" onclick="hideComparison()">✕</button>
                            </div>
                            <div class="comparison-grid">
                                <div class="comparison-item">
                                    <div class="model-name">Claude Sonnet 4</div>
                                    <div class="model-score">94% Brand Match</div>
                                    <div class="model-output">
                                        <p>Introducing our revolutionary enterprise solution that transforms how modern businesses scale their operations...</p>
                                    </div>
                                </div>
                                <div class="comparison-item">
                                    <div class="model-name">GPT-4 Turbo</div>
                                    <div class="model-score">87% Brand Match</div>
                                    <div class="model-output">
                                        <p>Our new business platform helps companies grow faster with innovative technology solutions...</p>
                                    </div>
                                </div>
                                <div class="comparison-item">
                                    <div class="model-name">Gemini Pro</div>
                                    <div class="model-score">91% Brand Match</div>
                                    <div class="model-output">
                                        <p>Experience next-generation enterprise tools designed for the modern workplace transformation...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 3;
        let selectedMethod = 'templates';
        let selectedTemplate = null;
        let currentContentType = 'text';
        let currentBrandTab = 'voice';
        let isFirstTime = false; // Set to true for new users, false for returning users
        let currentBrandKitId = null;
        let currentDetailsTab = 'overview';
        let returnToDashboard = true; // Track where to return from settings
        let selectedStacks = ['Marketing Stack']; // Default selected stack
        let allStacks = [
            { id: 'marketing', name: 'Marketing Stack', icon: '📈' },
            { id: 'ecommerce', name: 'E-commerce Stack', icon: '🛒' },
            { id: 'corporate', name: 'Corporate Website', icon: '🏢' },
            { id: 'blog', name: 'Blog & Content', icon: '📝' },
            { id: 'portfolio', name: 'Portfolio Site', icon: '🎨' },
            { id: 'news', name: 'News & Media', icon: '📰' },
            { id: 'saas', name: 'SaaS Platform', icon: '💻' },
            { id: 'healthcare', name: 'Healthcare Portal', icon: '🏥' },
            { id: 'education', name: 'Educational Site', icon: '📚' },
            { id: 'finance', name: 'Financial Services', icon: '💰' },
            { id: 'restaurant', name: 'Restaurant & Food', icon: '🍽️' },
            { id: 'real-estate', name: 'Real Estate', icon: '🏠' },
            { id: 'nonprofit', name: 'Non-Profit', icon: '❤️' },
            { id: 'travel', name: 'Travel & Tourism', icon: '✈️' },
            { id: 'fitness', name: 'Fitness & Wellness', icon: '💪' },
            { id: 'fashion', name: 'Fashion & Retail', icon: '👗' },
            { id: 'automotive', name: 'Automotive', icon: '🚗' },
            { id: 'technology', name: 'Technology Hub', icon: '🔧' },
            { id: 'entertainment', name: 'Entertainment', icon: '🎭' },
            { id: 'community', name: 'Community Forum', icon: '👥' }
        ];

        // Home Navigation
        function goHome() {
            showDashboard();
        }

        // Navigation Functions
        function showSetupWizard() {
            hideAllViews();
            document.getElementById('setupWizard').style.display = 'block';
            resetWizard();
        }

        function showDashboard() {
            hideAllViews();
            document.getElementById('brandKitDashboard').style.display = 'block';
        }

        function hideAllViews() {
            document.getElementById('brandKitDashboard').style.display = 'none';
            document.getElementById('setupWizard').style.display = 'none';
            document.getElementById('brandKitDetails').style.display = 'none';
            document.getElementById('brandKitSettings').style.display = 'none';
            document.getElementById('playgroundModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        // Brand Kit Details Functions
        function openBrandKitDetails(brandKitId) {
            currentBrandKitId = brandKitId;
            returnToDashboard = true;
            
            const brandKitData = {
                'tech-ceos': {
                    name: 'Tech CEOs',
                    description: 'Professional, innovative tone for tech leadership content',
                    icon: '💻'
                },
                'avengers': {
                    name: 'Avengers',
                    description: 'Heroic, inspiring messaging for entertainment brand',
                    icon: '🦸'
                },
                'test': {
                    name: 'Test',
                    description: 'Experimental brand kit for testing new features',
                    icon: '🧪'
                }
            };

            const data = brandKitData[brandKitId];
            if (data) {
                document.getElementById('detailsBrandName').textContent = data.name;
                document.getElementById('detailsBrandDescription').textContent = data.description;
                document.querySelector('.details-icon').textContent = data.icon;
            }

            hideAllViews();
            document.getElementById('brandKitDetails').style.display = 'block';
            switchDetailsTab('overview');
        }

        function switchDetailsTab(tabName) {
            currentDetailsTab = tabName;
            
            // Update tab appearance
            document.querySelectorAll('.details-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
            }

            // Show/hide tab content
            document.querySelectorAll('.details-tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            const targetTab = document.getElementById(`${tabName === 'voice-profiles' ? 'voiceProfilesTab' : tabName + 'Tab'}`);
            if (targetTab) {
                targetTab.style.display = 'block';
            }

            // Populate tab content based on current Brand Kit
            setTimeout(() => {
                if (tabName === 'voice-profiles') {
                    populateVoiceProfiles(currentBrandKitId);
                } else if (tabName === 'content') {
                    populateContentLibrary(currentBrandKitId);
                } else if (tabName === 'analytics') {
                    populateAnalytics(currentBrandKitId);
                }
            }, 100);
        }

        function populateVoiceProfiles(brandKitId) {
            const container = document.getElementById('profilesGrid');
            if (!container) {
                console.log('profilesGrid container not found');
                return;
            }

            const profilesData = {
                'tech-ceos': [
                    {
                        name: 'Jensen Huang',
                        description: 'The visionary NVIDIA CEO with technical mastery, AI evangelism, and future-focused communication. Jensen Huang combines deep engineering knowledge with passionate advocacy for accelerated computing, communicating with energetic conviction about GPU computing and AI transformation.',
                        tone: 'Technical, Passionate, Visionary',
                        audience: 'Developers, Tech Industry',
                        usage: '23 pieces',
                        lastUsed: '2 hours ago',
                        compliance: '96%'
                    },
                    {
                        name: 'Sergey Brin',
                        description: 'The brilliant Google co-founder with scientific rigor, algorithmic thinking, and revolutionary vision. Sergey Brin combines mathematical precision with innovative spirit, communicating with intellectual intensity about search algorithms, AI advancement, and solving humanity\'s greatest challenges.',
                        tone: 'Scientific, Innovative, Intellectual',
                        audience: 'Researchers, Engineers',
                        usage: '18 pieces',
                        lastUsed: '1 day ago',
                        compliance: '94%'
                    },
                    {
                        name: 'Larry Page',
                        description: 'The visionary Google co-founder with ambitious moonshot thinking, technical brilliance, and futuristic communication. Larry Page combines engineering precision with revolutionary ideas, communicating with quiet intensity about organizing the world\'s information and building transformative technologies.',
                        tone: 'Ambitious, Technical, Futuristic',
                        audience: 'Engineers, Visionaries',
                        usage: '15 pieces',
                        lastUsed: '2 days ago',
                        compliance: '93%'
                    },
                    {
                        name: 'Satya Nadella',
                        description: 'The transformational Microsoft CEO with empathetic leadership, growth mindset, and collaborative vision. Satya Nadella combines cultural transformation with strategic innovation, communicating with humble confidence about empowering others and the future of hybrid work and AI.',
                        tone: 'Empathetic, Collaborative, Growth-focused',
                        audience: 'Business Leaders, Enterprise',
                        usage: '31 pieces',
                        lastUsed: '1 day ago',
                        compliance: '97%'
                    },
                    {
                        name: 'Sundar Pichai',
                        description: 'The thoughtful Google/Alphabet CEO with inclusive leadership, product-focused vision, and measured communication. Sundar Pichai combines technical depth with global perspective, communicating with diplomatic intelligence about AI, innovation, and making information universally accessible.',
                        tone: 'Thoughtful, Diplomatic, Inclusive',
                        audience: 'Global Audience, Stakeholders',
                        usage: '28 pieces',
                        lastUsed: '3 hours ago',
                        compliance: '95%'
                    },
                    {
                        name: 'Tim Cook',
                        description: 'The calm and collaborative Apple CEO with democratic leadership, empathetic communication, and values-driven approach. Tim Cook combines operational excellence with inclusive vision, communicating with quiet consideration and steady commitment to privacy, sustainability, and human dignity.',
                        tone: 'Calm, Values-driven, Democratic',
                        audience: 'Consumers, Stakeholders',
                        usage: '22 pieces',
                        lastUsed: '1 day ago',
                        compliance: '96%'
                    },
                    {
                        name: 'Mark Zuckerberg',
                        description: 'The data-driven Facebook founder with long-term vision, democratic leadership, and analytical mindset. Mark Zuckerberg combines technical precision with transformational goals, communicating with measured intensity about connecting the world and building the future of digital interaction.',
                        tone: 'Data-driven, Long-term focused, Analytical',
                        audience: 'Tech Community, Users',
                        usage: '19 pieces',
                        lastUsed: '2 days ago',
                        compliance: '92%'
                    },
                    {
                        name: 'Jeff Bezos',
                        description: 'The customer-obsessed Amazon founder with long-term vision, data-driven decisions, and transformational leadership. Jeff Bezos combines strategic patience with tactical urgency, communicating with quiet intensity about building lasting customer value and pioneering new frontiers.',
                        tone: 'Customer-obsessed, Strategic, Data-driven',
                        audience: 'Business Leaders, Customers',
                        usage: '16 pieces',
                        lastUsed: '4 days ago',
                        compliance: '94%'
                    },
                    {
                        name: 'Elon Musk',
                        description: 'The maverick entrepreneur with bold vision, direct communication, and erratic brilliance. Elon Musk combines transformational leadership with unconventional methods, communicating ambitious goals and impossible dreams with infectious enthusiasm and sometimes controversial candor.',
                        tone: 'Bold, Direct, Unconventional',
                        audience: 'Innovators, Future-focused',
                        usage: '34 pieces',
                        lastUsed: '5 hours ago',
                        compliance: '89%'
                    },
                    {
                        name: 'Bill Gates',
                        description: 'The Microsoft co-founder and philanthropist with analytical precision, transformational vision, and data-driven communication. Bill Gates combines technical expertise with strategic thinking, communicating complex ideas with clarity while maintaining focus on long-term impact and global solutions.',
                        tone: 'Analytical, Philanthropic, Strategic',
                        audience: 'Global Leaders, Philanthropists',
                        usage: '27 pieces',
                        lastUsed: '1 week ago',
                        compliance: '96%'
                    },
                    {
                        name: 'Steve Jobs',
                        description: 'The visionary co-founder of Apple with perfectionist standards, reality-distortion field charisma, and design obsession. Steve Jobs combined autocratic leadership with transformational vision, communicating with passionate intensity about revolutionary products that would change the world.',
                        tone: 'Perfectionist, Charismatic, Revolutionary',
                        audience: 'Consumers, Design-focused',
                        usage: '12 pieces',
                        lastUsed: '2 weeks ago',
                        compliance: '98%'
                    }
                ],
                'avengers': [
                    {
                        name: 'Hulk (Bruce Banner)',
                        description: 'The incredible green giant with simple, direct communication and raw emotional power. As Bruce Banner, he\'s brilliant but anxious; as the Hulk, he speaks with child-like simplicity, focusing on basic emotions and immediate needs with immense conviction.',
                        tone: 'Simple, Direct, Emotionally Powerful',
                        audience: 'General Public, Children',
                        usage: '18 pieces',
                        lastUsed: '1 day ago',
                        compliance: '92%'
                    },
                    {
                        name: 'Captain America (Steve Rogers)',
                        description: 'The First Avenger and living symbol of American values with unwavering moral conviction, natural leadership, and earnest communication. Steve Rogers speaks with integrity, respect, and the straightforward honesty of a true soldier and leader.',
                        tone: 'Moral, Leadership-focused, Earnest',
                        audience: 'Team Members, Citizens',
                        usage: '26 pieces',
                        lastUsed: '4 hours ago',
                        compliance: '98%'
                    },
                    {
                        name: 'Spider-Man (Peter Parker)',
                        description: 'Your friendly neighborhood web-slinger with youthful energy, quick wit, and constant wisecracks. Spider-Man combines scientific curiosity with relentless optimism and humor, always ready with a quip while fighting crime and protecting the little guy.',
                        tone: 'Youthful, Witty, Optimistic',
                        audience: 'Young People, Community',
                        usage: '31 pieces',
                        lastUsed: '2 hours ago',
                        compliance: '94%'
                    },
                    {
                        name: 'Thor Odinson',
                        description: 'The God of Thunder from Asgard with noble bearing, ancient wisdom, and regal speech patterns. Thor combines formal Shakespearean eloquence with genuine warmth and honor, speaking as both a divine being and a friend to mortals.',
                        tone: 'Noble, Formal, Warm',
                        audience: 'Cosmic Audience, Warriors',
                        usage: '22 pieces',
                        lastUsed: '1 day ago',
                        compliance: '96%'
                    },
                    {
                        name: 'Iron Man (Tony Stark)',
                        description: 'The genius billionaire playboy philanthropist with a sharp wit, technological expertise, and charismatic confidence. Tony Stark embodies innovation, sarcasm, and leadership with an unwavering belief in using technology to save the world.',
                        tone: 'Witty, Confident, Innovative',
                        audience: 'Tech Community, Media',
                        usage: '29 pieces',
                        lastUsed: '3 hours ago',
                        compliance: '91%'
                    }
                ],
                'test': []
            };

            const profiles = profilesData[brandKitId] || [];
            
            if (profiles.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="text-align: center; padding: 40px;">
                        <div style="font-size: 48px; margin-bottom: 16px;">🎤</div>
                        <h4>No Voice Profiles Yet</h4>
                        <p>Complete setup to create voice profiles for this Brand Kit.</p>
                        <button class="btn btn-primary" onclick="completeSetup('${brandKitId}')" style="margin-top: 16px;">Complete Setup</button>
                    </div>
                `;
                return;
            }

            container.innerHTML = profiles.map(profile => `
                <div class="voice-profile-card">
                    <div class="profile-card-header">
                        <div class="profile-card-title">
                            <h4>${profile.name}</h4>
                            <p>${profile.description}</p>
                        </div>
                        <div class="profile-actions">
                            <button class="profile-btn" onclick="editVoiceProfile('${profile.name}')">Edit</button>
                            <button class="profile-btn" onclick="testVoiceProfile('${profile.name}')">Test</button>
                        </div>
                    </div>
                    <div class="profile-details">
                        <div class="profile-detail-section">
                            <h5>Tone & Style</h5>
                            <div class="profile-detail-content">${profile.tone}</div>
                        </div>
                        <div class="profile-detail-section">
                            <h5>Target Audience</h5>
                            <div class="profile-detail-content">${profile.audience}</div>
                        </div>
                    </div>
                    <div class="usage-stats">
                        <div class="usage-stat">
                            <div class="usage-stat-value">${profile.usage}</div>
                            <div class="usage-stat-label">Content</div>
                        </div>
                        <div class="usage-stat">
                            <div class="usage-stat-value">${profile.compliance}</div>
                            <div class="usage-stat-label">Compliance</div>
                        </div>
                        <div class="usage-stat">
                            <div class="usage-stat-value">${profile.lastUsed}</div>
                            <div class="usage-stat-label">Last Used</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function populateContentLibrary(brandKitId) {
            const container = document.getElementById('contentList');
            if (!container) {
                console.log('contentList container not found');
                return;
            }

            const contentData = {
                'tech-ceos': [
                    { 
                        type: '📝', title: 'AI Innovation Leadership Blog Post', 
                        profile: 'Jensen Huang', words: 1240, 
                        compliance: 96, date: '2 hours ago', category: 'Blog Post'
                    },
                    { 
                        type: '📧', title: 'Enterprise Transformation Email', 
                        profile: 'Satya Nadella', words: 340, 
                        compliance: 97, date: '1 day ago', category: 'Email'
                    },
                    { 
                        type: '📱', title: 'Future of Computing LinkedIn Post', 
                        profile: 'Sundar Pichai', words: 180, 
                        compliance: 95, date: '1 day ago', category: 'Social'
                    },
                    { 
                        type: '📄', title: 'Privacy-First Product Guide', 
                        profile: 'Tim Cook', words: 890, 
                        compliance: 96, date: '3 days ago', category: 'Documentation'
                    },
                    { 
                        type: '📝', title: 'Innovation Disruption Case Study', 
                        profile: 'Elon Musk', words: 560, 
                        compliance: 89, date: '4 days ago', category: 'Case Study'
                    },
                    { 
                        type: '📧', title: 'Philanthropic Impact Newsletter', 
                        profile: 'Bill Gates', words: 420, 
                        compliance: 96, date: '1 week ago', category: 'Newsletter'
                    },
                    { 
                        type: '🎤', title: 'Keynote: Revolutionary Product Launch', 
                        profile: 'Steve Jobs', words: 1200, 
                        compliance: 98, date: '2 weeks ago', category: 'Speech'
                    }
                ],
                'avengers': [
                    { 
                        type: '📝', title: 'Team Leadership Principles', 
                        profile: 'Captain America (Steve Rogers)', words: 320, 
                        compliance: 98, date: '1 day ago', category: 'Internal'
                    },
                    { 
                        type: '📱', title: 'Heroic Responsibility Social Campaign', 
                        profile: 'Spider-Man (Peter Parker)', words: 150, 
                        compliance: 94, date: '2 hours ago', category: 'Social'
                    },
                    { 
                        type: '🎬', title: 'Action Hero Mission Brief', 
                        profile: 'Iron Man (Tony Stark)', words: 450, 
                        compliance: 91, date: '3 days ago', category: 'Brief'
                    },
                    { 
                        type: '📢', title: 'Asgardian Honor Code', 
                        profile: 'Thor Odinson', words: 380, 
                        compliance: 96, date: '5 days ago', category: 'Code'
                    },
                    { 
                        type: '💥', title: 'Direct Action Protocol', 
                        profile: 'Hulk (Bruce Banner)', words: 120, 
                        compliance: 92, date: '1 day ago', category: 'Protocol'
                    }
                ],
                'test': []
            };

            const content = contentData[brandKitId] || [];
            
            if (content.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="text-align: center; padding: 40px;">
                        <div style="font-size: 48px; margin-bottom: 16px;">📝</div>
                        <h4>No Content Generated Yet</h4>
                        <p>Use the Playground to start creating brand-compliant content.</p>
                        <button class="btn btn-primary" onclick="openPlaygroundFor('${brandKitId}')" style="margin-top: 16px;">Try Playground</button>
                    </div>
                `;
                return;
            }

            container.innerHTML = content.map(item => `
                <div class="content-item">
                    <div class="content-type-icon">${item.type}</div>
                    <div class="content-item-info">
                        <h4>${item.title}</h4>
                        <div class="content-item-meta">
                            ${item.profile} • ${item.words} words • ${item.category}
                        </div>
                    </div>
                    <div class="content-compliance">
                        <div class="compliance-badge ${item.compliance >= 95 ? '' : item.compliance >= 90 ? 'medium' : 'low'}">
                            ${item.compliance}%
                        </div>
                    </div>
                    <div class="content-date">${item.date}</div>
                </div>
            `).join('');
        }

        function populateAnalytics(brandKitId) {
            // Analytics are already pre-populated in HTML, but we could customize based on brandKitId
            // For now, the analytics show generic data that represents the Brand Kit performance
        }

        // Voice Profile Actions
        function addVoiceProfile() {
            alert('Add Voice Profile dialog would open here');
        }

        function editVoiceProfile(profileName) {
            alert(`Edit ${profileName} profile dialog would open here`);
        }

        function testVoiceProfile(profileName) {
            alert(`Test ${profileName} in playground`);
        }

        // Time range selector for analytics
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('time-btn')) {
                document.querySelectorAll('.time-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                e.target.classList.add('active');
            }
        });

        function openPlaygroundFromDetails() {
            openPlaygroundFor(currentBrandKitId);
        }

        function openBrandKitSettingsFromDetails() {
            returnToDashboard = false; // Return to details, not dashboard
            openBrandKitSettings(currentBrandKitId);
        }

        // Brand Kit Settings Functions
        function openBrandKitSettings(brandKitId) {
            currentBrandKitId = brandKitId;
            
            const brandKitData = {
                'tech-ceos': {
                    name: 'Tech CEOs',
                    kitName: 'Tech CEOs',
                    industry: 'Technology',
                    audience: 'Business Leaders',
                    personality: 'Professional, Innovative, Confident',
                    tone: 'Professional & Forward-thinking',
                    keyTerms: 'innovation, leadership, transformation, enterprise solutions, cutting-edge technology'
                },
                'avengers': {
                    name: 'Avengers',
                    kitName: 'Avengers',
                    industry: 'Entertainment',
                    audience: 'General Consumers',
                    personality: 'Heroic, Inspiring, Bold',
                    tone: 'Motivational & Empowering',
                    keyTerms: 'heroic, unity, strength, justice, teamwork, courage'
                },
                'test': {
                    name: 'Test',
                    kitName: 'Test',
                    industry: 'Technology',
                    audience: 'Developers',
                    personality: 'Experimental, Curious',
                    tone: 'Technical & Exploratory',
                    keyTerms: 'testing, experimental, prototype, development'
                }
            };

            const data = brandKitData[brandKitId] || brandKitData['tech-ceos'];
            
            // Populate settings form
            document.getElementById('settingsBrandName').textContent = `${data.name} Settings`;
            document.getElementById('settingsKitName').value = data.kitName;
            document.getElementById('settingsIndustry').value = data.industry;
            document.getElementById('settingsAudience').value = data.audience;
            document.getElementById('settingsPersonality').value = data.personality;
            document.getElementById('settingsTone').value = data.tone;
            document.getElementById('settingsKeyTerms').value = data.keyTerms;

            hideAllViews();
            document.getElementById('brandKitSettings').style.display = 'block';
            switchBrandTab('voice');
        }

        function backFromSettings() {
            if (returnToDashboard) {
                showDashboard();
            } else {
                openBrandKitDetails(currentBrandKitId);
            }
        }

        function saveBrandKitSettings() {
            // Save settings logic would go here
            alert('Settings saved successfully!');
            backFromSettings();
        }

        // Complete Setup Function
        function completeSetup(brandKitId) {
            // Set the Brand Kit ID for editing
            currentBrandKitId = brandKitId;
            
            // Show setup wizard in edit mode
            showSetupWizard();
            
            // You could pre-populate with existing data here
            // For now, just start fresh setup
        }

        function resetWizard() {
            currentStep = 1;
            document.querySelectorAll('.step-content').forEach(content => {
                content.style.display = 'none';
            });
            document.getElementById('step1').style.display = 'block';
            updateProgress();
            updateButtons();
        }

        function openPlaygroundFor(brandKitId) {
            // Set Brand Kit context
            setBrandKitContext(brandKitId);
            
            // Show playground
            document.getElementById('playgroundModal').classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Update playground header to show Brand Kit name
            const playgroundTitle = document.querySelector('.playground-title h2');
            const brandKitNames = {
                'tech-ceos': 'Tech CEOs',
                'avengers': 'Avengers', 
                'test': 'Test'
            };
            playgroundTitle.textContent = `🎮 ${brandKitNames[brandKitId]} Playground`;
        }

        function setBrandKitContext(brandKitId) {
            // Set voice profiles based on Brand Kit
            const voiceProfiles = {
                'tech-ceos': [
                    { value: 'jensen-huang', text: 'Jensen Huang' },
                    { value: 'sergey-brin', text: 'Sergey Brin' },
                    { value: 'larry-page', text: 'Larry Page' },
                    { value: 'satya-nadella', text: 'Satya Nadella' },
                    { value: 'sundar-pichai', text: 'Sundar Pichai' },
                    { value: 'tim-cook', text: 'Tim Cook' },
                    { value: 'mark-zuckerberg', text: 'Mark Zuckerberg' },
                    { value: 'jeff-bezos', text: 'Jeff Bezos' },
                    { value: 'elon-musk', text: 'Elon Musk' },
                    { value: 'bill-gates', text: 'Bill Gates' },
                    { value: 'steve-jobs', text: 'Steve Jobs' }
                ],
                'avengers': [
                    { value: 'hulk', text: 'Hulk (Bruce Banner)' },
                    { value: 'captain-america', text: 'Captain America (Steve Rogers)' },
                    { value: 'spider-man', text: 'Spider-Man (Peter Parker)' },
                    { value: 'thor', text: 'Thor Odinson' },
                    { value: 'iron-man', text: 'Iron Man (Tony Stark)' }
                ],
                'test': [
                    { value: 'experimental', text: 'Experimental Voice' }
                ]
            };

            const select = document.getElementById('voiceProfile');
            select.innerHTML = '';
            
            if (voiceProfiles[brandKitId]) {
                voiceProfiles[brandKitId].forEach(profile => {
                    const option = document.createElement('option');
                    option.value = profile.value;
                    option.textContent = profile.text;
                    select.appendChild(option);
                });
            }
        }

        function editBrandKit(brandKitId) {
            openBrandKitSettings(brandKitId);
        }

        function completeBrandKitCreation() {
            // Add the new Brand Kit to dashboard (simulated)
            showDashboard();
            
            // Then immediately open playground for the new Brand Kit
            setTimeout(() => {
                openPlaygroundFor('tech-ceos');
            }, 300);
        }

        // Initialize the correct view based on user state
        function initializeApp() {
            // Initialize stack selector
            initializeStackSelector();
            
            if (isFirstTime) {
                // New user - show setup wizard immediately
                showSetupWizard();
            } else {
                // Returning user - show dashboard
                showDashboard();
            }
        }

        // Stack Selector Functions
        function initializeStackSelector() {
            const stackGrid = document.getElementById('stackGrid');
            if (!stackGrid) return;

            stackGrid.innerHTML = allStacks.map(stack => `
                <div class="stack-option ${selectedStacks.includes(stack.name) ? 'selected' : ''}" 
                     onclick="toggleStack('${stack.id}', '${stack.name}', '${stack.icon}')" 
                     data-stack="${stack.name.toLowerCase()}">
                    <span class="stack-icon">${stack.icon}</span>
                    <span class="stack-name">${stack.name}</span>
                </div>
            `).join('');

            updateSelectedStacksDisplay();
        }

        function filterStacks(searchTerm) {
            const stackOptions = document.querySelectorAll('.stack-option');
            const term = searchTerm.toLowerCase();

            stackOptions.forEach(option => {
                const stackName = option.dataset.stack;
                if (stackName.includes(term)) {
                    option.style.display = 'flex';
                } else {
                    option.style.display = 'none';
                }
            });
        }

        function toggleStack(stackId, stackName, stackIcon) {
            const stackIndex = selectedStacks.indexOf(stackName);
            const stackOption = document.querySelector(`[onclick*="${stackId}"]`);

            if (stackIndex === -1) {
                // Add stack
                selectedStacks.push(stackName);
                stackOption.classList.add('selected');
            } else {
                // Remove stack (but keep at least one selected)
                if (selectedStacks.length > 1) {
                    selectedStacks.splice(stackIndex, 1);
                    stackOption.classList.remove('selected');
                }
            }

            updateSelectedStacksDisplay();
        }

        function updateSelectedStacksDisplay() {
            const selectedStacksContainer = document.getElementById('selectedStacks');
            if (!selectedStacksContainer) return;

            if (selectedStacks.length === 0) {
                selectedStacksContainer.innerHTML = '';
                return;
            }

            const selectedStacksHtml = `
                <h5>Selected Stacks (${selectedStacks.length})</h5>
                <div class="selected-stacks-list">
                    ${selectedStacks.map(stackName => {
                        const stack = allStacks.find(s => s.name === stackName);
                        return `
                            <span class="selected-stack-chip">
                                <span>${stack ? stack.icon : '📦'}</span>
                                <span>${stackName}</span>
                                ${selectedStacks.length > 1 ? `<span class="remove-stack" onclick="removeStack('${stackName}')">×</span>` : ''}
                            </span>
                        `;
                    }).join('')}
                </div>
            `;

            selectedStacksContainer.innerHTML = selectedStacksHtml;
        }

        function removeStack(stackName) {
            const stackIndex = selectedStacks.indexOf(stackName);
            if (stackIndex > -1 && selectedStacks.length > 1) {
                selectedStacks.splice(stackIndex, 1);
                
                // Update the visual state
                const stack = allStacks.find(s => s.name === stackName);
                if (stack) {
                    const stackOption = document.querySelector(`[onclick*="${stack.id}"]`);
                    if (stackOption) {
                        stackOption.classList.remove('selected');
                    }
                }
                
                updateSelectedStacksDisplay();
            }
        }

        // Setup Brand Tab Switching (Separate from Settings)
        function switchSetupBrandTab(tabName) {
            currentBrandTab = tabName;
            
            // Update tab appearance for setup tabs
            const setupTabs = document.querySelector('#setupWizard .modal-tabs');
            if (setupTabs) {
                setupTabs.querySelectorAll('.modal-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                setupTabs.querySelector(`[data-tab="${tabName}"]`)?.classList.add('active');
            }

            // Show/hide setup tab content
            const setupTabIds = {
                'setup-voice': 'setupVoiceTab',
                'setup-visual': 'setupVisualTab', 
                'setup-media': 'setupMediaTab',
                'setup-channels': 'setupChannelsTab'
            };

            // Hide all setup tabs
            Object.values(setupTabIds).forEach(tabId => {
                const tab = document.getElementById(tabId);
                if (tab) tab.style.display = 'none';
            });

            // Show selected setup tab
            const targetTabId = setupTabIds[tabName];
            const targetTab = document.getElementById(targetTabId);
            if (targetTab) {
                targetTab.style.display = 'block';
            }
        }

        // Settings Brand Tab Switching (For Settings Screen)
        function switchBrandTab(tabName) {
            currentBrandTab = tabName;
            
            // Update tab appearance for settings tabs
            const settingsTabs = document.querySelector('#brandKitSettings .modal-tabs');
            if (settingsTabs) {
                settingsTabs.querySelectorAll('.modal-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                settingsTabs.querySelector(`[data-tab="${tabName}"]`)?.classList.add('active');
            }

            // Show/hide settings tab content
            const settingsTabContent = document.querySelectorAll('#brandKitSettings .brand-tab-content');
            settingsTabContent.forEach(content => {
                content.style.display = 'none';
            });
            
            const targetTab = document.querySelector(`#brandKitSettings #${tabName}Tab`);
            if (targetTab) {
                targetTab.style.display = 'block';
            }
        }

        // Playground Functions
        function showPlayground() {
            document.getElementById('playgroundModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePlayground() {
            document.getElementById('playgroundModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function selectContentType(type) {
            currentContentType = type;
            
            // Update active button
            document.querySelectorAll('.content-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-type="${type}"]`).classList.add('active');

            // Show/hide relevant controls
            const textControls = document.getElementById('textControls');
            const imageControls = document.getElementById('imageControls');
            
            if (type === 'image') {
                textControls.style.display = 'none';
                imageControls.style.display = 'block';
            } else {
                textControls.style.display = 'block';
                imageControls.style.display = 'none';
            }

            // Update template options based on content type
            updateTemplateOptions(type);
        }

        function updateTemplateOptions(type) {
            const templateSelect = document.getElementById('contentTemplate');
            const templates = {
                'text': [
                    { value: 'blog-post', text: 'Blog Post Introduction' },
                    { value: 'product-description', text: 'Product Description' },
                    { value: 'press-release', text: 'Press Release' },
                    { value: 'whitepaper', text: 'Whitepaper Executive Summary' }
                ],
                'image': [
                    { value: 'hero-banner', text: 'Hero Banner' },
                    { value: 'product-mockup', text: 'Product Mockup' },
                    { value: 'infographic', text: 'Infographic' },
                    { value: 'social-graphic', text: 'Social Media Graphic' }
                ],
                'social': [
                    { value: 'linkedin-post', text: 'LinkedIn Post' },
                    { value: 'twitter-thread', text: 'Twitter Thread' },
                    { value: 'instagram-caption', text: 'Instagram Caption' },
                    { value: 'facebook-update', text: 'Facebook Update' }
                ],
                'email': [
                    { value: 'newsletter', text: 'Newsletter' },
                    { value: 'product-launch', text: 'Product Launch Email' },
                    { value: 'welcome-series', text: 'Welcome Series' },
                    { value: 'abandoned-cart', text: 'Abandoned Cart Email' }
                ]
            };

            templateSelect.innerHTML = '<option value="">Select a template...</option>';
            templates[type].forEach(template => {
                const option = document.createElement('option');
                option.value = template.value;
                option.textContent = template.text;
                templateSelect.appendChild(option);
            });
        }

        function loadTemplate() {
            const templateSelect = document.getElementById('contentTemplate');
            const selectedTemplate = templateSelect.value;
            const userInput = document.getElementById('userInput');
            const imagePrompt = document.getElementById('imagePrompt');

            const templateData = {
                'blog-post': 'Write an engaging introduction for a blog post about our latest enterprise software solution that helps companies streamline their operations.',
                'product-description': 'Create a compelling product description for our new AI-powered analytics dashboard that provides real-time business insights.',
                'press-release': 'Draft a press release announcing our company\'s $50M Series B funding round led by top-tier VCs.',
                'social-post': 'Create an engaging LinkedIn post about the importance of digital transformation in modern businesses.',
                'email-newsletter': 'Write a newsletter section highlighting our latest product features and customer success stories.',
                'hero-banner': 'A professional, modern hero banner showcasing innovative enterprise software with clean typography and tech-forward design elements',
                'product-mockup': 'A sleek product mockup of our analytics dashboard on a laptop screen in a modern office environment',
                'social-graphic': 'An engaging social media graphic about digital transformation with professional color scheme and modern icons'
            };

            if (selectedTemplate && templateData[selectedTemplate]) {
                if (currentContentType === 'image') {
                    imagePrompt.value = templateData[selectedTemplate];
                } else {
                    userInput.value = templateData[selectedTemplate];
                }
            }
        }

        function generateContent() {
            const outputContent = document.getElementById('outputContent');
            const complianceScore = document.getElementById('complianceScore');
            
            // Show loading state
            outputContent.innerHTML = '<div style="text-align: center; padding: 40px;"><div class="spinner" style="margin: 0 auto 16px;"></div><p>Generating on-brand content...</p></div>';

            setTimeout(() => {
                const sampleContent = getSampleContent();
                outputContent.innerHTML = `<div class="generated-content">${sampleContent}</div>`;
                complianceScore.style.display = 'block';
                
                // Animate compliance scores
                animateScores();
            }, 2000);
        }

        function generateImage() {
            const outputContent = document.getElementById('outputContent');
            const complianceScore = document.getElementById('complianceScore');
            
            outputContent.innerHTML = '<div style="text-align: center; padding: 40px;"><div class="spinner" style="margin: 0 auto 16px;"></div><p>Generating brand-compliant image...</p></div>';

            setTimeout(() => {
                outputContent.innerHTML = `
                    <div class="generated-image">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 12px;">🖼️</div>
                            <div style="font-weight: 600; margin-bottom: 8px;">Professional Hero Banner</div>
                            <div style="font-size: 12px;">AI-generated image with brand-compliant styling</div>
                        </div>
                    </div>
                    <div style="background: #f9fafb; border-radius: 6px; padding: 12px; font-size: 13px; color: #6b7280;">
                        <strong>Brand Elements Applied:</strong><br>
                        • Professional color palette (#6366f1, #374151)<br>
                        • Modern, clean typography<br>
                        • Tech-forward visual style<br>
                        • Enterprise-focused messaging
                    </div>
                `;
                complianceScore.style.display = 'block';
                animateScores();
            }, 3000);
        }

        function getSampleContent() {
            const contents = {
                'jensen-huang': "Revolutionary breakthroughs in accelerated computing are transforming every industry. Our advanced GPU architecture delivers unprecedented performance for AI workloads, enabling developers to build the intelligent applications of tomorrow. The future of computing is accelerated, and we're leading this transformational journey with cutting-edge technology that empowers innovation at scale.",
                'elon-musk': "We're building the future faster than anyone thought possible. Our revolutionary approach to engineering challenges the status quo and pushes the boundaries of what's achievable. Bold decisions and rapid iteration will get us to Mars, accelerate sustainable transport, and create an incredible tomorrow.",
                'tim-cook': "Privacy is a fundamental human right, and we remain steadfastly committed to protecting our users. Our thoughtful approach to innovation focuses on creating technology that serves humanity, with inclusive design and sustainable practices at our core. We believe technology should enhance lives while respecting values.",
                'hulk': "HULK PROTECT! Hulk strongest there is! Bad guys hurt people, Hulk stop them. Simple. Hulk no need complicated words. Hulk just smash problems away and keep friends safe. That what Hulk do!",
                'captain-america': "We stand together as one team, united by our shared values and commitment to doing what's right. Every challenge we face is an opportunity to prove that honor, courage, and sacrifice can overcome any obstacle. Americans - and all good people - deserve leaders who fight for justice.",
                'spider-man': "Hey there, true believers! Your friendly neighborhood Spider-Man here with some web-slinging wisdom. With great power comes great responsibility - and trust me, I learned that the hard way! But seriously, we're all in this together, looking out for the little guy and making our community stronger. Thwip!",
                'iron-man': "Genius, billionaire, playboy, philanthropist - but more importantly, problem solver. Our cutting-edge technology isn't just about the cool factor (though it is pretty cool). We're building solutions that save lives, protect the planet, and push human potential to its absolute limits. The future is now, people."
            };

            const voiceProfile = document.getElementById('voiceProfile').value;
            return contents[voiceProfile] || contents['jensen-huang'];
        }

        function animateScores() {
            const scoreFills = document.querySelectorAll('.score-fill');
            scoreFills.forEach(fill => {
                const width = fill.style.width;
                fill.style.width = '0%';
                setTimeout(() => {
                    fill.style.width = width;
                }, 100);
            });
        }

        function copyContent() {
            const generatedContent = document.querySelector('.generated-content');
            if (generatedContent) {
                navigator.clipboard.writeText(generatedContent.textContent);
                // Show feedback
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '✓ Copied!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            }
        }

        function regenerateContent() {
            if (currentContentType === 'image') {
                generateImage();
            } else {
                generateContent();
            }
        }

        function compareModels() {
            document.getElementById('modelComparison').style.display = 'block';
        }

        function hideComparison() {
            document.getElementById('modelComparison').style.display = 'none';
        }

        // Style chip selection
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('style-chip')) {
                document.querySelectorAll('.style-chip').forEach(chip => {
                    chip.classList.remove('active');
                });
                e.target.classList.add('active');
            }
            
            // Style option selection for media
            if (e.target.closest('.style-option')) {
                const parent = e.target.closest('.style-options');
                if (parent) {
                    parent.querySelectorAll('.style-option').forEach(option => {
                        option.classList.remove('active');
                    });
                    e.target.closest('.style-option').classList.add('active');
                }
            }
            
            // Aspect chip selection
            if (e.target.classList.contains('aspect-chip')) {
                e.target.parentElement.querySelectorAll('.aspect-chip').forEach(chip => {
                    chip.classList.remove('active');
                });
                e.target.classList.add('active');
            }
        });

        // Color picker change handlers
        document.addEventListener('change', function(e) {
            if (e.target.type === 'color') {
                const label = e.target.parentElement.querySelector('.color-label');
                if (label) {
                    label.textContent = e.target.value;
                }
            }
        });

        // Handle method switching
        function switchMethod(method) {
            selectedMethod = method;
            
            // Update tab appearance
            document.querySelectorAll('.method-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-method="${method}"]`).classList.add('active');

            // Show/hide content
            const templateLibrary = document.getElementById('templateLibrary');
            const importOptions = document.getElementById('importOptions');
            const contentPreview = document.getElementById('contentPreview');
            const templateCustomization = document.getElementById('templateCustomization');

            if (method === 'templates') {
                templateLibrary.style.display = 'block';
                importOptions.style.display = 'none';
                contentPreview.classList.remove('show');
                if (selectedTemplate) {
                    templateCustomization.classList.add('show');
                }
                updateNextButton();
            } else {
                templateLibrary.style.display = 'none';
                importOptions.style.display = 'grid';
                templateCustomization.classList.remove('show');
                // Trigger CMS selection for import method
                setTimeout(() => {
                    document.querySelector('.import-card[data-source="cms"]').click();
                }, 100);
            }
        }

        // Handle template selection
        document.querySelectorAll('.template-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove previous selection
                document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                // Add selection to clicked card
                this.classList.add('selected');
                
                selectedTemplate = this.dataset.template;
                
                // Show template customization preview
                const templateCustomization = document.getElementById('templateCustomization');
                templateCustomization.classList.add('show');
                
                // Update preview content based on selected template
                updateTemplatePreview(selectedTemplate);
                
                updateNextButton();
            });
        });

        function updateTemplatePreview(template) {
            const templateCustomization = document.getElementById('templateCustomization');
            const templates = {
                'saas': {
                    name: 'SaaS & Technology',
                    icon: '💻',
                    profiles: [
                        { name: 'Executive Communication', usage: 'Leadership content' },
                        { name: 'Product Marketing', usage: 'Features & benefits' },
                        { name: 'Technical Documentation', usage: 'Help & tutorials' }
                    ],
                    guidelines: [
                        'Always use active voice for product features',
                        'Avoid technical jargon in marketing content',
                        'Focus on business outcomes and ROI',
                        'Use confident, forward-looking language',
                        'Include social proof when possible'
                    ]
                },
                'retail': {
                    name: 'E-commerce & Retail',
                    icon: '🛍️',
                    profiles: [
                        { name: 'Product Descriptions', usage: 'Product catalog' },
                        { name: 'Customer Service', usage: 'Support & help' },
                        { name: 'Marketing Campaigns', usage: 'Promotions & ads' },
                        { name: 'Brand Storytelling', usage: 'About & values' }
                    ],
                    guidelines: [
                        'Use emotional triggers and benefits-focused language',
                        'Create urgency without being pushy',
                        'Focus on customer value and satisfaction',
                        'Include trust signals and guarantees',
                        'Use conversational, friendly tone'
                    ]
                },
                'healthcare': {
                    name: 'Healthcare & Wellness',
                    icon: '🏥',
                    profiles: [
                        { name: 'Patient Communication', usage: 'Patient-facing content' },
                        { name: 'Medical Information', usage: 'Educational content' },
                        { name: 'Wellness Content', usage: 'Health tips & advice' }
                    ],
                    guidelines: [
                        'Use empathetic, caring language',
                        'Ensure medical accuracy and compliance',
                        'Avoid medical jargon when possible',
                        'Focus on patient outcomes and wellbeing',
                        'Maintain professional yet approachable tone'
                    ]
                }
            };

            const templateData = templates[template] || templates['saas'];
            
            templateCustomization.innerHTML = `
                <h4>
                    <span>${templateData.icon}</span>
                    ${templateData.name} Template Preview
                </h4>
                <div class="customization-grid">
                    <div class="customization-section">
                        <h5>Voice Profiles Included</h5>
                        ${templateData.profiles.map(profile => `
                            <div class="voice-profile-item">
                                <span class="profile-name">${profile.name}</span>
                                <span class="profile-usage">${profile.usage}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="customization-section">
                        <h5>Brand Guidelines</h5>
                        <div style="font-size: 13px; color: #6b7280; line-height: 1.5;">
                            ${templateData.guidelines.map(guideline => `• ${guideline}`).join('<br>')}
                        </div>
                    </div>
                </div>
            `;
        }

        function updateNextButton() {
            const nextBtn = document.getElementById('nextBtn');
            
            if (currentStep === 1) {
                if (selectedMethod === 'templates') {
                    if (selectedTemplate) {
                        nextBtn.textContent = 'Use This Template';
                        nextBtn.disabled = false;
                    } else {
                        nextBtn.textContent = 'Select a Template';
                        nextBtn.disabled = true;
                    }
                } else {
                    // Import method
                    const selectedImport = document.querySelector('.import-card.selected');
                    if (selectedImport) {
                        if (selectedImport.dataset.source === 'cms') {
                            nextBtn.textContent = 'Import Selected Content';
                        } else {
                            nextBtn.textContent = 'Configure Import';
                        }
                        nextBtn.disabled = false;
                    } else {
                        nextBtn.textContent = 'Select Import Source';
                        nextBtn.disabled = true;
                    }
                }
            }
        }

        // Handle import card selection
        document.querySelectorAll('.import-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove previous selection
                document.querySelectorAll('.import-card').forEach(c => c.classList.remove('selected'));
                // Add selection to clicked card
                this.classList.add('selected');
                
                // Show content preview for CMS option
                if (this.dataset.source === 'cms') {
                    document.getElementById('contentPreview').classList.add('show');
                } else {
                    document.getElementById('contentPreview').classList.remove('show');
                }
                
                updateNextButton();
            });
        });

        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const percentage = (currentStep / totalSteps) * 100;
            progressFill.style.width = percentage + '%';

            // Update step indicators
            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 < currentStep) {
                    step.classList.add('completed');
                } else if (index + 1 === currentStep) {
                    step.classList.add('active');
                }
            });
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                // Hide current step
                document.getElementById(`step${currentStep}`).style.display = 'none';
                
                currentStep++;
                
                // Show next step
                document.getElementById(`step${currentStep}`).style.display = 'block';
                
                updateProgress();
                updateButtons();

                // Special handling for step 3 (processing)
                if (currentStep === 3) {
                    setTimeout(showProcessingSteps, 1000);
                }
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                // Hide current step
                document.getElementById(`step${currentStep}`).style.display = 'none';
                
                currentStep--;
                
                // Show previous step
                document.getElementById(`step${currentStep}`).style.display = 'block';
                
                updateProgress();
                updateButtons();
            }
        }

        function updateButtons() {
            const backBtn = document.getElementById('backBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (currentStep === 1) {
                backBtn.style.display = 'none';
                updateNextButton();
            } else if (currentStep === 2) {
                backBtn.style.display = 'block';
                if (selectedMethod === 'templates') {
                    nextBtn.textContent = 'Create Brand Kit from Template';
                } else {
                    nextBtn.textContent = 'Create Brand Kit';
                }
                nextBtn.disabled = false;
            } else if (currentStep === 3) {
                backBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }
        }

        function showProcessingSteps() {
            let steps;
            
            if (selectedMethod === 'templates') {
                steps = [
                    'Loading template configuration...',
                    'Setting up voice profiles...',
                    'Applying brand guidelines...',
                    'Configuring industry defaults...',
                    'Finalizing brand kit setup...'
                ];
            } else {
                steps = [
                    'Analyzing content patterns...',
                    'Extracting brand terminology...',
                    'Generating voice profiles...',
                    'Creating brand guidelines...',
                    'Setting up templates...'
                ];
            }

            let stepIndex = 0;
            const progressDiv = document.getElementById('loadingProgress');

            const interval = setInterval(() => {
                if (stepIndex < steps.length) {
                    progressDiv.innerHTML += `<br>✓ ${steps[stepIndex]}`;
                    stepIndex++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.querySelector('.loading-state').classList.remove('show');
                        document.querySelector('.success-state').classList.add('show');
                        
                        // Update success message based on method
                        const successMessage = document.querySelector('.success-state p');
                        if (selectedMethod === 'templates') {
                            successMessage.textContent = 'Applied SaaS & Technology template with 3 voice profiles and 50+ brand guidelines ready to use';
                        } else {
                            successMessage.textContent = 'Generated 3 voice profiles and extracted brand guidelines from your content';
                        }
                    }, 1000);
                }
            }, 800);
        }

        // Initialize
        initializeApp();
        document.querySelector('.template-card[data-template="saas"]').click();
    </script>
</body>
</html>
